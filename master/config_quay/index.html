<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Configure Red Hat Quay</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.4"/><meta name="description" content="Configure Red Hat Quay"/><link rel="next" href="#config-intro" title="Chapter 1. Getting started with Red Hat Quay configuration"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46262678816224"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Quay</span> <span class="productnumber">3.9</span></div><div><h1 class="title">Configure Red Hat Quay</h1></div><div><h2 class="subtitle">Customizing Red Hat Quay using configuration options</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat OpenShift Documentation Team</span></div></div><div><a href="#idm46262669967728">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Configure Red Hat Quay
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="chapter"><a href="#config-intro">1. Getting started with Red Hat Quay configuration</a></span></li><li><span class="chapter"><a href="#config-disclaimer">2. Red Hat Quay configuration disclaimer</a></span><ul><li><span class="section"><a href="#config-updates-39">2.1. Configuration updates for Red Hat Quay 3.9</a></span><ul><li><span class="section"><a href="#tracking-audit-logins">2.1.1. Action log audit configuration</a></span></li><li><span class="section"><a href="#splunk-action-log-field">2.1.2. Addition of Splunk action logs</a></span></li><li><span class="section"><a href="#quota-management-config-fields">2.1.3. Quota management configuration fields</a></span></li><li><span class="section"><a href="#postgresql-pvc-backup-config-fields">2.1.4. PostgreSQL PVC backup environment variable</a></span></li></ul></li><li><span class="section"><a href="#editing-the-configuration-file">2.2. Editing the configuration file</a></span></li><li><span class="section"><a href="#config-file-location">2.3. Location of configuration file in a standalone deployment</a></span></li><li><span class="section"><a href="#config-file-minimal">2.4. Minimal configuration</a></span><ul><li><span class="section"><a href="#sample-config-file-minimal">2.4.1. Sample minimal configuration file</a></span></li><li><span class="section"><a href="#config-local-storage">2.4.2. Local storage</a></span></li><li><span class="section"><a href="#config-cloud-storage">2.4.3. Cloud storage</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#config-fields-intro">3. Configuration fields</a></span><ul><li><span class="section"><a href="#config-fields-required-intro">3.1. Required configuration fields</a></span></li><li><span class="section"><a href="#config-preconfigure-automation-intro">3.2. Automation options</a></span></li><li><span class="section"><a href="#config-fields-optional-intro">3.3. Optional configuration fields</a></span></li><li><span class="section"><a href="#config-fields-required-general">3.4. General required fields</a></span></li><li><span class="section"><a href="#config-fields-db">3.5. Database configuration</a></span><ul><li><span class="section"><a href="#database-uri">3.5.1. Database URI</a></span></li><li><span class="section"><a href="#database-connection-arguments">3.5.2. Database connection arguments</a></span></li></ul></li><li><span class="section"><a href="#config-fields-storage">3.6. Image storage</a></span><ul><li><span class="section"><a href="#config-fields-storage-features">3.6.1. Image storage features</a></span></li><li><span class="section"><a href="#config-fields-storage-fields">3.6.2. Image storage configuration fields</a></span></li><li><span class="section"><a href="#config-fields-storage-local">3.6.3. Local storage</a></span></li><li><span class="section"><a href="#config-fields-storage-noobaa">3.6.4. OCS/NooBaa</a></span></li><li><span class="section"><a href="#config-fields-storage-rados">3.6.5. Ceph / RadosGW Storage / Hitachi HCP</a></span></li><li><span class="section"><a href="#config-fields-storage-aws">3.6.6. AWS S3 storage</a></span></li><li><span class="section"><a href="#config-fields-storage-gcp">3.6.7. Google Cloud Storage</a></span></li><li><span class="section"><a href="#config-fields-storage-azure">3.6.8. Azure Storage</a></span></li><li><span class="section"><a href="#config-fields-storage-swift">3.6.9. Swift storage</a></span></li><li><span class="section"><a href="#config-fields-nutanix">3.6.10. Nutanix object storage</a></span></li></ul></li><li><span class="section"><a href="#config-fields-redis">3.7. Redis configuration fields</a></span><ul><li><span class="section"><a href="#build_logs">3.7.1. Build logs</a></span></li><li><span class="section"><a href="#user-event-fields-redis">3.7.2. User events</a></span></li><li><span class="section"><a href="#example-redis-configuration">3.7.3. Example Redis configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-modelcache">3.8. ModelCache configuration options</a></span><ul><li><span class="section"><a href="#config-fields-modelcache-memcache">3.8.1. Memcache configuration option</a></span></li><li><span class="section"><a href="#config-fields-modelcache-single-redis">3.8.2. Single Redis configuration option</a></span></li><li><span class="section"><a href="#config-fields-modelcache-clustered-redis">3.8.3. Clustered Redis configuration option</a></span></li></ul></li><li><span class="section"><a href="#config-fields-tag-expiration">3.9. Tag expiration configuration fields</a></span><ul><li><span class="section"><a href="#example-config-fields-tag-expiration">3.9.1. Example tag expiration configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-quota-management">3.10. Quota management configuration fields</a></span><ul><li><span class="section"><a href="#suggested-management-config-settings-39">3.10.1. Example quota management configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-proxy-cache">3.11. Proxy cache configuration fields</a></span></li><li><span class="section"><a href="#config-preconfigure-automation">3.12. Pre-configuring Red Hat Quay for automation</a></span><ul><li><span class="section"><a href="#allowing-the-api-to-create-first-user">3.12.1. Allowing the API to create the first user</a></span></li><li><span class="section"><a href="#enabling-general-api-access">3.12.2. Enabling general API access</a></span></li><li><span class="section"><a href="#adding-super-user">3.12.3. Adding a superuser</a></span></li><li><span class="section"><a href="#restricting-user-creation">3.12.4. Restricting user creation</a></span></li><li><span class="section"><a href="#enabling-new-functionality-38">3.12.5. Enabling new functionality in Red Hat Quay 3.8</a></span></li><li><span class="section"><a href="#enabling-new-functionality-37">3.12.6. Enabling new functionality in Red Hat Quay 3.7</a></span></li><li><span class="section"><a href="#suggested-configuration-for-automation">3.12.7. Suggested configuration for automation</a></span></li><li><span class="section"><a href="#deploying-the-operator-using-initial-configuration">3.12.8. Deploying the Red Hat Quay Operator using the initial configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-basic">3.13. Basic configuration fields</a></span></li><li><span class="section"><a href="#config-fields-ssl">3.14. SSL configuration fields</a></span><ul><li><span class="section"><a href="#configuring_ssl">3.14.1. Configuring SSL</a></span></li></ul></li><li><span class="section"><a href="#config-custom-ssl-certs-manual">3.15. Adding TLS Certificates to the Red Hat Quay Container</a></span><ul><li><span class="section"><a href="#add-certificates-to-quay-container">3.15.1. Add TLS certificates to Red Hat Quay</a></span></li></ul></li><li><span class="section"><a href="#config-fields-ldap">3.16. LDAP configuration fields</a></span><ul><li><span class="section"><a href="#ldap-config-field-reference">3.16.1. LDAP configuration references</a></span></li></ul></li><li><span class="section"><a href="#config-fields-mirroring">3.17. Mirroring configuration fields</a></span></li><li><span class="section"><a href="#config-fields-scanner">3.18. Security scanner configuration fields</a></span><ul><li><span class="section"><a href="#reindexing-clair-v4">3.18.1. Re-indexing with Clair v4</a></span></li><li><span class="section"><a href="#example-security-scanner-config">3.18.2. Example security scanner configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-helm-oci">3.19. Helm configuration fields</a></span><ul><li><span class="section"><a href="#configuring-helm-config">3.19.1. Configuring Helm</a></span></li></ul></li><li><span class="section"><a href="#other-oci-artifacts-with-quay">3.20. Open Container Initiative configuration fields</a></span><ul><li><span class="section"><a href="#configuring-oci-artifact-types">3.20.1. Configuring additional artifact types</a></span></li></ul></li><li><span class="section"><a href="#unknown-artifacts">3.21. Unknown media types</a></span><ul><li><span class="section"><a href="#configuring-unknown-media-types">3.21.1. Configuring unknown media types</a></span></li></ul></li><li><span class="section"><a href="#config-fields-actionlog">3.22. Action log configuration fields</a></span><ul><li><span class="section"><a href="#action_log_storage_configuration">3.22.1. Action log storage configuration</a></span></li><li><span class="section"><a href="#action_log_rotation_and_archiving_configuration">3.22.2. Action log rotation and archiving configuration</a></span></li><li><span class="section"><a href="#action_log_audit_configuration">3.22.3. Action log audit configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-build-logs">3.23. Build logs configuration fields</a></span></li><li><span class="section"><a href="#config-fields-dockerfile-build">3.24. Dockerfile build triggers fields</a></span><ul><li><span class="section"><a href="#github_build_triggers">3.24.1. GitHub build triggers</a></span></li><li><span class="section"><a href="#bitbucket_build_triggers">3.24.2. BitBucket build triggers</a></span></li><li><span class="section"><a href="#gitlab_build_triggers">3.24.3. GitLab build triggers</a></span></li></ul></li><li><span class="section"><a href="#config-fields-build-manager">3.25. Build manager configuration fields</a></span></li><li><span class="section"><a href="#config-fields-oauth">3.26. OAuth configuration fields</a></span><ul><li><span class="section"><a href="#github-oauth-config-fields">3.26.1. GitHub OAuth configuration fields</a></span></li><li><span class="section"><a href="#google-oauth-config-fields">3.26.2. Google OAuth configuration fields</a></span></li></ul></li><li><span class="section"><a href="#oidc-config-fields">3.27. OIDC configuration fields</a></span><ul><li><span class="section"><a href="#oidc-config">3.27.1. OIDC configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-nested-repositories">3.28. Nested repositories configuration fields</a></span></li><li><span class="section"><a href="#config-fields-mail">3.29. Mail configuration fields</a></span></li><li><span class="section"><a href="#config-fields-user">3.30. User configuration fields</a></span><ul><li><span class="section"><a href="#user-config-field-reference">3.30.1. User configuration fields references</a></span></li></ul></li><li><span class="section"><a href="#config-fields-recaptcha">3.31. Recaptcha configuration fields</a></span></li><li><span class="section"><a href="#config-fields-aci">3.32. ACI configuration fields</a></span></li><li><span class="section"><a href="#config-fields-jwt">3.33. JWT configuration fields</a></span></li><li><span class="section"><a href="#config-fields-app-tokens">3.34. App tokens configuration fields</a></span></li><li><span class="section"><a href="#config-fields-misc">3.35. Miscellaneous configuration fields</a></span></li><li><span class="section"><a href="#config-fields-legacy">3.36. Legacy configuration fields</a></span></li><li><span class="section"><a href="#config-fields-v2-ui">3.37. User interface v2 configuration field</a></span><ul><li><span class="section"><a href="#reference-miscellaneous-v2-ui">3.37.1. v2 user interface configuration</a></span></li></ul></li><li><span class="section"><a href="#config-fields-ipv6">3.38. IPv6 configuration field</a></span></li><li><span class="section"><a href="#config-fields-branding">3.39. Branding configuration fields</a></span><ul><li><span class="section"><a href="#example-config-fields-branding">3.39.1. Example configuration for Red Hat Quay branding</a></span></li></ul></li><li><span class="section"><a href="#config-fields-session-logout">3.40. Session timeout configuration field</a></span><ul><li><span class="section"><a href="#suggested-permanent-session-lifetime-config">3.40.1. Example session timeout configuration</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#config-envar-intro">4. Environment variables</a></span><ul><li><span class="section"><a href="#config-envvar-georepl">4.1. Geo-replication</a></span></li><li><span class="section"><a href="#config-envvar-dbpool">4.2. Database connection pooling</a></span></li><li><span class="section"><a href="#config-envvar-worker-connection">4.3. HTTP connection counts</a></span></li><li><span class="section"><a href="#config-envvar-worker-count">4.4. Worker count variables</a></span></li><li><span class="section"><a href="#config-debug-variables">4.5. Debug variables</a></span></li></ul></li><li><span class="chapter"><a href="#clair-vulnerability-scanner">5. Clair for Red Hat Quay</a></span><ul><li><span class="section"><a href="#config-fields-overview">5.1. Clair configuration overview</a></span><ul><li><span class="section"><a href="#information-using-clair-proxy-environment">5.1.1. Information about using Clair in a proxy environment</a></span></li><li><span class="section"><a href="#config-fields-clair-reference">5.1.2. Clair configuration reference</a></span></li><li><span class="section"><a href="#config-fields-required-clair">5.1.3. Clair general fields</a></span></li><li><span class="section"><a href="#config-fields-clair-indexer">5.1.4. Clair indexer configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-matcher">5.1.5. Clair matcher configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-matchers">5.1.6. Clair matchers configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-updaters">5.1.7. Clair updaters configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-notifiers">5.1.8. Clair notifier configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-auth">5.1.9. Clair authorization configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-trace">5.1.10. Clair trace configuration fields</a></span></li><li><span class="section"><a href="#config-fields-clair-metrics">5.1.11. Clair metrics configuration fields</a></span></li></ul></li></ul></li></ul></div><section class="chapter" id="config-intro"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Getting started with Red Hat Quay configuration</h1></div></div></div><p>
			Red Hat Quay can be deployed by an independent, standalone configuration, or by using the OpenShift Container Platform Red Hat Quay Operator.
		</p><p>
			How you create, retrieve, update, and validate the Red Hat Quay configuration varies depending on the type of deployment you are using. However, the core configuration options are the same for either deployment type. Core configuration can be set by one of the following options:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Directly, by editing the <code class="literal">config.yaml</code> file. See "Editing the configuration file" for more information.
				</li><li class="listitem">
					Programmatically, by using the configuration API. See "Using the configuration API" for more information.
				</li><li class="listitem">
					Visually, by using the configuration tool UI. See "Using the configuration tool" for more information.
				</li></ul></div><p>
			For standalone deployments of Red Hat Quay, you must supply the minimum required configuration parameters before the registry can be started. The minimum requirements to start a Red Hat Quay registry can be found in the "Retrieving the current configuration" section.
		</p><p>
			If you install Red Hat Quay on OpenShift Container Platform using the Red Hat Quay Operator, you do not need to supply configuration parameters because the Red Hat Quay Operator supplies default information to deploy the registry.
		</p><p>
			After you have deployed Red Hat Quay with the desired configuration, you should retrieve, and save, the full configuration from your deployment. The full configuration contains additional generated values that you might need when restarting or upgrading your system.
		</p></section><section class="chapter" id="config-disclaimer"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Red Hat Quay configuration disclaimer</h1></div></div></div><p>
			With Red Hat Quay enterprise, certain features and configuration parameters are not actively used or implemented. As a result, feature flags, such as those that enable or disable certain features, and configuration parameters that are not explicitly documented or requested for documentation by Red Hat Support should only be modified with caution. Unused features or parameters might not be fully tested, supported, or compatible with Red Hat Quay, and modifying them could lead to unexpected issues or disruptions with your deployment.
		</p><section class="section" id="config-updates-39"><div class="titlepage"><div><div><h2 class="title">2.1. Configuration updates for Red Hat Quay 3.9</h2></div></div></div><p>
				The following sections detail new configuration fields added in Red Hat Quay 3.9.
			</p><section class="section" id="tracking-audit-logins"><div class="titlepage"><div><div><h3 class="title">2.1.1. Action log audit configuration</h3></div></div></div><p>
					With Red Hat Quay 3.9, audit logins are tracked by default.
				</p><div class="table" id="idm46262678081808"><p class="title"><strong>Table 2.1. Audit logs configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262679209968" scope="col">Field</th><th align="left" valign="top" id="idm46262679208880" scope="col">Type</th><th align="left" valign="top" id="idm46262678872096" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262679209968">
								<p>
									<span class="strong strong"><strong>ACTION_LOG_AUDIT_LOGINS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262679208880">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262678872096">
								<p>
									When set to <code class="literal">True</code>, tracks advanced events such as logging into, and out of, the UI, and logging in using Docker for regular users, robot accounts, and for application-specific token accounts.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="splunk-action-log-field"><div class="titlepage"><div><div><h3 class="title">2.1.2. Addition of Splunk action logs</h3></div></div></div><p>
					With Red Hat Quay 3.9, Splunk can be configured under the <span class="strong strong"><strong>LOGS_MODEL</strong></span> parameter.
				</p><div class="table" id="idm46262683602128"><p class="title"><strong>Table 2.2. Splunk configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262677907712" scope="col">Field</th><th align="left" valign="top" id="idm46262677906736" scope="col">Type</th><th align="left" valign="top" id="idm46262677905648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262677907712">
								<p>
									<span class="strong strong"><strong>LOGS_MODEL</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262677906736">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262677905648">
								<p>
									Specifies the preferred method for handling log data.<br/><br/><span class="strong strong"><strong>Values:</strong></span> One of <code class="literal">database</code>, <code class="literal">transition_reads_both_writes_es</code>, <code class="literal">elasticsearch</code>, <code class="literal">splunk</code><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">database</code>
								</p>
								</td></tr></tbody></table></div></div><section class="section" id="new-model-config-options"><div class="titlepage"><div><div><h4 class="title">2.1.2.1. LOGS_MODEL_CONFIG additions</h4></div></div></div><p>
						The following <span class="strong strong"><strong>LOGS_MODEL_CONFIG</strong></span> options are available when configuring Splunk.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>LOGS_MODEL_CONFIG</strong></span> [object]: Logs model config for action logs
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<span class="strong strong"><strong>producer</strong></span> [string]: <code class="literal">splunk</code>
									</li><li class="listitem"><p class="simpara">
										<span class="strong strong"><strong>splunk_config</strong></span> [object]: Logs model configuration for Splunk action logs or the Splunk cluster configuration
									</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
												<span class="strong strong"><strong>host</strong></span> [string]: Splunk cluster endpoint.
											</li><li class="listitem">
												<span class="strong strong"><strong>port</strong></span> [integer]: Splunk management cluster endpoint port.
											</li><li class="listitem">
												<span class="strong strong"><strong>bearer_token</strong></span> [string]: The bearer token for Splunk.
											</li><li class="listitem">
												<span class="strong strong"><strong>verify_ssl</strong></span> [boolean]: Enable (<code class="literal">True</code>) or disable (<code class="literal">False</code>) TLS/SSL verification for HTTPS connections.
											</li><li class="listitem">
												<span class="strong strong"><strong>index_prefix</strong></span> [string]: Splunk’s index prefix.
											</li><li class="listitem">
												<span class="strong strong"><strong>ssl_ca_path</strong></span> [string]: The relative container path to a single <code class="literal">.pem</code> file containing a certificate authority (CA) for SSL validation.
											</li></ul></div></li></ul></div></li></ul></div></section><section class="section" id="splunk-example-yaml"><div class="titlepage"><div><div><h4 class="title">2.1.2.2. Example configuration for Splunk</h4></div></div></div><p>
						The following YAML entry provides an example configuration for Splunk.
					</p><div class="formalpara"><p class="title"><strong>Splunk config.yaml example</strong></p><p>
							
<pre class="programlisting language-yaml">---
LOGS_MODEL: splunk
LOGS_MODEL_CONFIG:
    producer: splunk
    splunk_config:
        host: http://&lt;user_name&gt;.remote.csb
        port: 8089
        bearer_token: &lt;bearer_token&gt;
        url_scheme: &lt;http/https&gt;
        verify_ssl: False
        index_prefix: &lt;splunk_log_index_name&gt;
        ssl_ca_path: &lt;location_to_ssl-ca-cert.pem&gt;
---</pre>
						</p></div></section></section><section class="section" id="quota-management-config-fields"><div class="titlepage"><div><div><h3 class="title">2.1.3. Quota management configuration fields</h3></div></div></div><p>
					The following configuration fields have been added to enhance the Red Hat Quay quota management feature.
				</p><div class="table" id="idm46262683647152"><p class="title"><strong>Table 2.3. Red Hat Quay 3.9 quota management configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262682901184" scope="col">Field</th><th align="left" valign="top" id="idm46262682900096" scope="col">Type</th><th align="left" valign="top" id="idm46262682899008" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262682901184">
								<p>
									<span class="strong strong"><strong>QUOTA_BACKFILL</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682900096">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682899008">
								<p>
									Enables the quota backfill worker to calculate the size of pre-existing blobs.<br/><br/><span class="strong strong"><strong>Default</strong></span>: <code class="literal">True</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262682901184">
								<p>
									<span class="strong strong"><strong>QUOTA_TOTAL_DELAY_SECONDS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682900096">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262682899008">
								<p>
									The time delay for starting the quota backfill. Rolling deployments can cause incorrect totals. This field <span class="strong strong"><strong>must</strong></span> be set to a time longer than it takes for the rolling deployment to complete.<br/><br/><span class="strong strong"><strong>Default</strong></span>: <code class="literal">1800</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262682901184">
								<p>
									<span class="strong strong"><strong>PERMANENTLY_DELETE_TAGS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682900096">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682899008">
								<p>
									Enables functionality related to the removal of tags from the time machine window.<br/><br/><span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262682901184">
								<p>
									<span class="strong strong"><strong>RESET_CHILD_MANIFEST_EXPIRATION</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682900096">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682899008">
								<p>
									Resets the expirations of temporary tags targeting the child manifests. With this feature set to <code class="literal">True</code>, child manifests are immediately garbage collected.<br/><br/><span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
								</p>
								</td></tr></tbody></table></div></div><section class="section" id="quota-management-config-settings-39"><div class="titlepage"><div><div><h4 class="title">2.1.3.1. Possible quota management configuration settings</h4></div></div></div><p>
						The following table explains possible quota management configuration settings in Red Hat Quay 3.9.
					</p><div class="table" id="idm46262678074384"><p class="title"><strong>Table 2.4. Quota management configuration options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262679122752" scope="col"><span class="strong strong"><strong>FEATURE_QUOTA_MANAGEMENT</strong></span></th><th align="left" valign="top" id="idm46262679121232" scope="col"><span class="strong strong"><strong>QUOTA_BACKFILL</strong></span></th><th align="left" valign="top" id="idm46262679119680" scope="col"><span class="strong strong"><strong>OUTCOME</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262679122752">
									<p>
										<code class="literal">true</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679121232">
									<p>
										<code class="literal">true</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679119680">
									<p>
										With these features configured as <code class="literal">true</code>, quota management is enabled and working for Red Hat Quay 3.9. For more information about configuring quota management for Red Hat Quay 3.9, see "Quota management for Red Hat Quay 3.9".
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262679122752">
									<p>
										<code class="literal">true</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679121232">
									<p>
										<code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679119680">
									<p>
										With <code class="literal">FEATURE_QUOTA_MANAGEMENT</code> set to <code class="literal">true</code>, and <code class="literal">QUOTA_BACKFILL</code> set to <code class="literal">false</code>, the quota management feature has been enabled. However, pre-existing images from a prior (N-1) y-stream version of Red Hat Quay (for example, 3.8), must be backfilled before quota calculation can continue. To backfill image sizes, set <code class="literal">QUOTA_BACKFILL</code> to <code class="literal">true</code>.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262679122752">
									<p>
										<code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679121232">
									<p>
										<code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679119680">
									<p>
										With these features configured as <code class="literal">false</code>, the quota management feature is disabled.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262679122752">
									<p>
										<code class="literal">false</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679121232">
									<p>
										<code class="literal">true</code>
									</p>
									</td><td align="left" valign="top" headers="idm46262679119680">
									<p>
										With <code class="literal">FEATURE_QUOTA_MANAGEMENT</code> set to <code class="literal">false</code>, and <code class="literal">QUOTA_BACKFILL</code> set to <code class="literal">true</code>, the quota management feature is disabled.
									</p>
									</td></tr></tbody></table></div></div></section><section class="section" id="suggested-management-config-settings-39-quota"><div class="titlepage"><div><div><h4 class="title">2.1.3.2. Suggested quota management configuration settings</h4></div></div></div><p>
						The following YAML is the suggested configuration when enabling quota management.
					</p><div class="formalpara"><p class="title"><strong>Suggested quota management configuration</strong></p><p>
							
<pre class="programlisting language-yaml">FEATURE_QUOTA_MANAGEMENT: true
FEATURE_GARBAGE_COLLECTION: true
PERMANENTLY_DELETE_TAGS: true
QUOTA_TOTAL_DELAY_SECONDS: 1800
RESET_CHILD_MANIFEST_EXPIRATION: true</pre>
						</p></div></section></section><section class="section" id="postgresql-pvc-backup-config-fields"><div class="titlepage"><div><div><h3 class="title">2.1.4. PostgreSQL PVC backup environment variable</h3></div></div></div><p>
					The following environment variable has been added to configure whether Red Hat Quay automatically removes old persistent volume claims (PVCs) when upgrading from version 3.8 → 3.9:
				</p><div class="table" id="idm46262678603856"><p class="title"><strong>Table 2.5. Red Hat Quay 3.9 PostgreSQL backup environment variable</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678598064" scope="col">Field</th><th align="left" valign="top" id="idm46262678613584" scope="col">Type</th><th align="left" valign="top" id="idm46262678612496" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678598064">
								<p>
									<span class="strong strong"><strong>POSTGRES_UPGRADE_RETAIN_BACKUP</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262678613584">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262678612496">
								<p>
									When set to <code class="literal">True</code>, persistent volume claims from PostgreSQL 10 are backed up.
								</p>
								<p>
									+ <span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
								</p>
								</td></tr></tbody></table></div></div><section class="section" id="pvc-backup-example-yaml"><div class="titlepage"><div><div><h4 class="title">2.1.4.1. Example configuration for PostgreSQL PVC backup</h4></div></div></div><p>
						The following <code class="literal">Subscription</code> object provides an example configuration for backing up PostgreSQL 10 PVCs.
					</p><div class="formalpara"><p class="title"><strong><code class="literal">Subscription</code> object for PostgreSQL 10 PVCs</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: quay-operator
  namespace: quay-enterprise
spec:
  channel: stable-3.8
  name: quay-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  config:
    env:
    - name: POSTGRES_UPGRADE_RETAIN_BACKUP
      value: "true"</pre>
						</p></div></section></section></section><section class="section" id="editing-the-configuration-file"><div class="titlepage"><div><div><h2 class="title">2.2. Editing the configuration file</h2></div></div></div><p>
				To deploy a standalone instance of Red Hat Quay, you must provide the minimal configuration information. The requirements for a minimal configuration can be found in "Red Hat Quay minimal configuration."
			</p><p>
				After supplying the required fields, you can validate your configuration. If there are any issues, they will be highlighted.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					It is possible to use the configuration API to validate the configuration, but this requires starting the Quay container in configuration mode. For more information, see "Using the configuration tool."
				</p></div></div><p>
				For changes to take effect, the registry must be restarted.
			</p></section><section class="section" id="config-file-location"><div class="titlepage"><div><div><h2 class="title">2.3. Location of configuration file in a standalone deployment</h2></div></div></div><p>
				For standalone deployments of Red Hat Quay, the <code class="literal">config.yaml</code> file must be specified when starting the Red Hat Quay registry. This file is located in the configuration volume. For example, the configuration file is located at <code class="literal">$QUAY/config/config.yaml</code> when deploying Red Hat Quay by the following command:
			</p><pre class="screen">$ sudo podman run -d --rm -p 80:8080 -p 443:8443 \
   --name=quay \
   -v $QUAY/config:/conf/stack:Z \
   -v $QUAY/storage:/datastorage:Z \
   registry.redhat.io/quay/quay-rhel8:v3.9.0</pre></section><section class="section" id="config-file-minimal"><div class="titlepage"><div><div><h2 class="title">2.4. Minimal configuration</h2></div></div></div><p>
				The following configuration options are required for a standalone deployment of Red Hat Quay:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Server hostname
					</li><li class="listitem">
						HTTP or HTTPS
					</li><li class="listitem">
						Authentication type, for example, Database or Lightweight Directory Access Protocol (LDAP)
					</li><li class="listitem">
						Secret keys for encrypting data
					</li><li class="listitem">
						Storage for images
					</li><li class="listitem">
						Database for metadata
					</li><li class="listitem">
						Redis for build logs and user events
					</li><li class="listitem">
						Tag expiration options
					</li></ul></div><section class="section" id="sample-config-file-minimal"><div class="titlepage"><div><div><h3 class="title">2.4.1. Sample minimal configuration file</h3></div></div></div><p>
					The following example shows a sample minimal configuration file that uses local storage for images:
				</p><pre class="programlisting language-yaml">AUTHENTICATION_TYPE: Database
BUILDLOGS_REDIS:
    host: quay-server.example.com
    password: strongpassword
    port: 6379
    ssl: false
DATABASE_SECRET_KEY: 0ce4f796-c295-415b-bf9d-b315114704b8
DB_URI: postgresql://quayuser:quaypass@quay-server.example.com:5432/quay
DEFAULT_TAG_EXPIRATION: 2w
DISTRIBUTED_STORAGE_CONFIG:
    default:
        - LocalStorage
        - storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - default
PREFERRED_URL_SCHEME: http
SECRET_KEY: e8f9fe68-1f84-48a8-a05f-02d72e6eccba
SERVER_HOSTNAME: quay-server.example.com
SETUP_COMPLETE: true
TAG_EXPIRATION_OPTIONS:
    - 0s
    - 1d
    - 1w
    - 2w
    - 4w
USER_EVENTS_REDIS:
    host: quay-server.example.com
    port: 6379
    ssl: false</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">SETUP_COMPLETE</code> field indicates that the configuration has been validated. You should use the configuration editor tool to validate your configuration before starting the registry.
					</p></div></div></section><section class="section" id="config-local-storage"><div class="titlepage"><div><div><h3 class="title">2.4.2. Local storage</h3></div></div></div><p>
					Using local storage for images is only recommended when deploying a registry for proof of concept purposes.
				</p><p>
					When configuring local storage, storage is specified on the command line when starting the registry. The following command maps a local directory, <code class="literal">$QUAY/storage</code> to the <code class="literal">datastorage</code> path in the container:
				</p><pre class="screen">$ sudo podman run -d --rm -p 80:8080 -p 443:8443 \
   --name=quay \
   -v $QUAY/config:/conf/stack:Z \
   -v $QUAY/storage:/datastorage:Z \
   registry.redhat.io/quay/quay-rhel8:v3.9.0</pre></section><section class="section" id="config-cloud-storage"><div class="titlepage"><div><div><h3 class="title">2.4.3. Cloud storage</h3></div></div></div><p>
					Storage configuration is detailed in the <a class="link" href="#config-fields-storage" title="3.6. Image storage">Image storage</a> section. For some users, it might be useful to compare the difference between Google Cloud Platform and local storage configurations. For example, the following YAML presents a Google Cloud Platform storage configuration:
				</p><div class="formalpara"><p class="title"><strong>$QUAY/config/config.yaml</strong></p><p>
						
<pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
    default:
        - GoogleCloudStorage
        - access_key: GOOGQIMFB3ABCDEFGHIJKLMN
          bucket_name: quay_bucket
          secret_key: FhDAYe2HeuAKfvZCAGyOioNaaRABCDEFGHIJKLMN
          storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - default</pre>
					</p></div><p>
					When starting the registry using cloud storage, no configuration is required on the command line. For example:
				</p><pre class="screen">$ sudo podman run -d --rm -p 80:8080 -p 443:8443 \
   --name=quay \
   -v $QUAY/config:/conf/stack:Z \
   registry.redhat.io/quay/quay-rhel8:v3.9.0</pre></section></section></section><section class="chapter" id="config-fields-intro"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Configuration fields</h1></div></div></div><p>
			This section describes the both required and optional configuration fields when deploying Red Hat Quay.
		</p><section class="section" id="config-fields-required-intro"><div class="titlepage"><div><div><h2 class="title">3.1. Required configuration fields</h2></div></div></div><p>
				The fields required to configure Red Hat Quay are covered in the following sections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.9/html-single/configure_red_hat_quay/index#config-fields-required-general">General required fields</a>
					</li><li class="listitem">
						link::https://access.redhat.com/documentation/en-us/red_hat_quay/3.9/html-single/configure_red_hat_quay/index#config-fields-storage[Storage for images]
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.9/html-single/configure_red_hat_quay/index#config-fields-db">Database for metadata</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.9/html-single/configure_red_hat_quay/index#config-fields-redis">Redis for build logs and user events</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.9/html-single/configure_red_hat_quay/index#config-fields-tag-expiration">Tag expiration options</a>
					</li></ul></div></section><section class="section" id="config-preconfigure-automation-intro"><div class="titlepage"><div><div><h2 class="title">3.2. Automation options</h2></div></div></div><p>
				The following sections describe the available automation options for Red Hat Quay deployments:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#config-preconfigure-automation" title="3.12. Pre-configuring Red Hat Quay for automation">Pre-configuring Red Hat Quay for automation</a>
					</li><li class="listitem">
						<a class="link" href="#using-the-api-to-create-first-user" title="3.12.8.1. Using the API to create the first user">Using the API to create the first user</a>
					</li></ul></div></section><section class="section" id="config-fields-optional-intro"><div class="titlepage"><div><div><h2 class="title">3.3. Optional configuration fields</h2></div></div></div><p>
				Optional fields for Red Hat Quay can be found in the following sections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#config-fields-basic" title="3.13. Basic configuration fields">Basic configuration</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-ssl" title="3.14. SSL configuration fields">SSL</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-ldap" title="3.16. LDAP configuration fields">LDAP</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-mirroring" title="3.17. Mirroring configuration fields">Repository mirroring</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-quota-management" title="3.10. Quota management configuration fields">Quota management</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-scanner" title="3.18. Security scanner configuration fields">Security scanner</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-helm-oci" title="3.19. Helm configuration fields">Helm</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-actionlog" title="3.22. Action log configuration fields">Action log</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-build-logs" title="3.23. Build logs configuration fields">Build logs</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-dockerfile-build" title="3.24. Dockerfile build triggers fields">Dockerfile build</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-oauth" title="3.26. OAuth configuration fields">OAuth</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-nested-repositories" title="3.28. Nested repositories configuration fields">Configuring nested repositories</a>
					</li><li class="listitem">
						<a class="link" href="#other-oci-artifacts-with-quay" title="3.20. Open Container Initiative configuration fields">Adding other OCI media types to Quay</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-mail" title="3.29. Mail configuration fields">Mail</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-user" title="3.30. User configuration fields">User</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-recaptcha" title="3.31. Recaptcha configuration fields">Recaptcha</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-aci" title="3.32. ACI configuration fields">ACI</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-jwt" title="3.33. JWT configuration fields">JWT</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-app-tokens" title="3.34. App tokens configuration fields">App tokens</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-misc" title="3.35. Miscellaneous configuration fields">Miscellaneous</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-v2-ui" title="3.37. User interface v2 configuration field">User interface v2</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-ipv6" title="3.38. IPv6 configuration field">IPv6 configuration field</a>
					</li><li class="listitem">
						<a class="link" href="#config-fields-legacy" title="3.36. Legacy configuration fields">Legacy options</a>
					</li></ul></div></section><section class="section" id="config-fields-required-general"><div class="titlepage"><div><div><h2 class="title">3.4. General required fields</h2></div></div></div><p>
				The following table describes the required configuration fields for a Red Hat Quay deployment:
			</p><div class="table" id="idm46262670815776"><p class="title"><strong>Table 3.1. General required fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262677926336" scope="col">Field</th><th align="left" valign="top" id="idm46262677925248" scope="col">Type</th><th align="left" valign="top" id="idm46262677924160" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>AUTHENTICATION_TYPE</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								The authentication engine to use for credential authentication.<br/><br/><span class="strong strong"><strong>Values:</strong></span><br/> One of <code class="literal">Database</code>, <code class="literal">LDAP</code>, <code class="literal">JWT</code>, <code class="literal">Keystone</code>, <code class="literal">OIDC</code><br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">Database</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>PREFERRED_URL_SCHEME</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								The URL scheme to use when accessing Red Hat Quay.<br/><br/><span class="strong strong"><strong>Values:</strong></span><br/> One of <code class="literal">http</code>, <code class="literal">https</code><br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">http</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>SERVER_HOSTNAME</strong></span> <br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								The URL at which Red Hat Quay is accessible, without the scheme.<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">quay-server.example.com</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>DATABASE_SECRET_KEY</strong></span> <br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								Key used to encrypt sensitive fields within the database. This value should never be changed once set, otherwise all reliant fields, for example, repository mirror username and password configurations, are invalidated.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>SECRET_KEY</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								Key used to encrypt sensitive fields within the database and at run time. This value should never be changed once set, otherwise all reliant fields, for example, encrypted password credentials, are invalidated.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262677926336">
							<p>
								<span class="strong strong"><strong>SETUP_COMPLETE</strong></span> <br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262677925248">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262677924160">
							<p>
								This is an artefact left over from earlier versions of the software and currently it <span class="strong strong"><strong>must</strong></span> be specified with a value of <code class="literal">true</code>.
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-db"><div class="titlepage"><div><div><h2 class="title">3.5. Database configuration</h2></div></div></div><p>
				This section describes the database configuration fields available for Red Hat Quay deployments.
			</p><section class="section" id="database-uri"><div class="titlepage"><div><div><h3 class="title">3.5.1. Database URI</h3></div></div></div><p>
					With Red Hat Quay, connection to the database is configured by using the required <code class="literal">DB_URI</code> field.
				</p><p>
					The following table describes the <code class="literal">DB_URI</code> configuration field:
				</p><div class="table" id="idm46262677681056"><p class="title"><strong>Table 3.2. Database URI</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678413280" scope="col">Field</th><th align="left" valign="top" id="idm46262678412192" scope="col">Type</th><th align="left" valign="top" id="idm46262683549024" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678413280">
								<p>
									<span class="strong strong"><strong>DB_URI</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678412192">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262683549024">
								<p>
									The URI for accessing the database, including any credentials.
								</p>
								<p>
									Example <code class="literal">DB_URI</code> field:
								</p>
								<p>
									<span class="strong strong"><strong>postgresql://quayuser:quaypass@quay-server.example.com:5432/quay</strong></span>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="database-connection-arguments"><div class="titlepage"><div><div><h3 class="title">3.5.2. Database connection arguments</h3></div></div></div><p>
					Optional connection arguments are configured by the <code class="literal">DB_CONNECTION_ARGS</code> parameter. Some of the key-value pairs defined under <code class="literal">DB_CONNECTION_ARGS</code> are generic, while others are database specific.
				</p><p>
					The following table describes database connection arguments:
				</p><div class="table" id="idm46262678533360"><p class="title"><strong>Table 3.3. Database connection arguments</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262679224256" scope="col">Field</th><th align="left" valign="top" id="idm46262679223168" scope="col">Type</th><th align="left" valign="top" id="idm46262679222080" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262679224256">
								<p>
									<span class="strong strong"><strong>DB_CONNECTION_ARGS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262679223168">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262679222080">
								<p>
									Optional connection arguments for the database, such as timeouts and SSL/TLS.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262679224256">
								<p>
									<span class="strong strong"><strong>.autorollback</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262679223168">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262679222080">
								<p>
									Whether to use thread-local connections.<br/> Should always be <code class="literal">true</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262679224256">
								<p>
									<span class="strong strong"><strong>.threadlocals</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262679223168">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262679222080">
								<p>
									Whether to use auto-rollback connections.<br/> Should always be <code class="literal">true</code>
								</p>
								</td></tr></tbody></table></div></div><section class="section" id="config-fields-postgres"><div class="titlepage"><div><div><h4 class="title">3.5.2.1. PostgreSQL SSL/TLS connection arguments</h4></div></div></div><p>
						With SSL/TLS, configuration depends on the database you are deploying. The following example shows a PostgreSQL SSL/TLS configuration:
					</p><pre class="programlisting language-yaml">DB_CONNECTION_ARGS:
  sslmode: verify-ca
  sslrootcert: /path/to/cacert</pre><p>
						The <code class="literal">sslmode</code> option determines whether, or with, what priority a secure SSL/TLS TCP/IP connection will be negotiated with the server. There are six modes:
					</p><div class="table" id="idm46262678828960"><p class="title"><strong>Table 3.4. SSL/TLS options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 50%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678923664" scope="col">Mode</th><th align="left" valign="top" id="idm46262678922576" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>disable</strong></span>
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Your configuration only tries non-SSL/TLS connections.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>allow</strong></span>
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Your configuration first tries a non-SSL/TLS connection. Upon failure, tries an SSL/TLS connection.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>prefer</strong></span><br/> (Default)
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Your configuration first tries an SSL/TLS connection. Upon failure, tries a non-SSL/TLS connection.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>require</strong></span>
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Your configuration only tries an SSL/TLS connection. If a root CA file is present, it verifies the certificate in the same way as if verify-ca was specified.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>verify-ca</strong></span>
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Your configuration only tries an SSL/TLS connection, and verifies that the server certificate is issued by a trusted certificate authority (CA).
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46262678923664">
									<p>
										<span class="strong strong"><strong>verify-full</strong></span>
									</p>
									</td><td align="left" valign="top" headers="idm46262678922576">
									<p>
										Only tries an SSL/TLS connection, and verifies that the server certificate is issued by a trusted CA and that the requested server hostname matches that in the certificate.
									</p>
									</td></tr></tbody></table></div></div><p>
						For more information on the valid arguments for PostgreSQL, see <a class="link" href="https://www.postgresql.org/docs/current/libpq-connect.html">Database Connection Control Functions</a>.
					</p></section><section class="section" id="mysql-ssl-connection-arguments"><div class="titlepage"><div><div><h4 class="title">3.5.2.2. MySQL SSL/TLS connection arguments</h4></div></div></div><p>
						The following example shows a sample MySQL SSL/TLS configuration:
					</p><pre class="screen yaml yaml">DB_CONNECTION_ARGS:
  ssl:
    ca: /path/to/cacert</pre><p>
						Information on the valid connection arguments for MySQL is available at <a class="link" href="https://dev.mysql.com/doc/refman/8.0/en/connecting-using-uri-or-key-value-pairs.html">Connecting to the Server Using URI-Like Strings or Key-Value Pairs</a>.
					</p></section></section></section><section class="section" id="config-fields-storage"><div class="titlepage"><div><div><h2 class="title">3.6. Image storage</h2></div></div></div><p>
				This section details the image storage features and configuration fields that are available with Red Hat Quay.
			</p><section class="section" id="config-fields-storage-features"><div class="titlepage"><div><div><h3 class="title">3.6.1. Image storage features</h3></div></div></div><p>
					The following table describes the image storage features for Red Hat Quay:
				</p><div class="table" id="idm46262679065520"><p class="title"><strong>Table 3.5. Storage config features</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262682347888" scope="col">Field</th><th align="left" valign="top" id="idm46262682346800" scope="col">Type</th><th align="left" valign="top" id="idm46262682345712" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262682347888">
								<p>
									<span class="strong strong"><strong>FEATURE_REPO_MIRROR</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682346800">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682345712">
								<p>
									If set to true, enables repository mirroring. <br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262682347888">
								<p>
									<span class="strong strong"><strong>FEATURE_PROXY_STORAGE</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682346800">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682345712">
								<p>
									Whether to proxy all direct download URLs in storage through NGINX. <br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262682347888">
								<p>
									<span class="strong strong"><strong>FEATURE_STORAGE_REPLICATION</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262682346800">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262682345712">
								<p>
									Whether to automatically replicate between storage engines.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-storage-fields"><div class="titlepage"><div><div><h3 class="title">3.6.2. Image storage configuration fields</h3></div></div></div><p>
					The following table describes the image storage configuration fields for Red Hat Quay:
				</p><div class="table" id="idm46262678443216"><p class="title"><strong>Table 3.6. Storage config fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262677839792" scope="col">Field</th><th align="left" valign="top" id="idm46262677838704" scope="col">Type</th><th align="left" valign="top" id="idm46262677837616" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262677839792">
								<p>
									<span class="strong strong"><strong>DISTRIBUTED_STORAGE_CONFIG</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262677838704">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262677837616">
								<p>
									Configuration for storage engine(s) to use in Red Hat Quay. Each key represents an unique identifier for a storage engine. The value consists of a tuple of (key, value) forming an object describing the storage engine parameters.<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">[]</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262677839792">
								<p>
									<span class="strong strong"><strong>DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262677838704">
								<p>
									Array of string
								</p>
								</td><td align="left" valign="top" headers="idm46262677837616">
								<p>
									The list of storage engine(s) (by ID in <code class="literal">DISTRIBUTED_STORAGE_CONFIG</code>) whose images should be fully replicated, by default, to all other storage engines.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262677839792">
								<p>
									<span class="strong strong"><strong>DISTRIBUTED_STORAGE_PREFERENCE</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262677838704">
								<p>
									Array of string
								</p>
								</td><td align="left" valign="top" headers="idm46262677837616">
								<p>
									The preferred storage engine(s) (by ID in <code class="literal">DISTRIBUTED_STORAGE_CONFIG</code>) to use. A preferred engine means it is first checked for pulling and images are pushed to it.<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262677839792">
								<p>
									<span class="strong strong"><strong>MAXIMUM_LAYER_SIZE</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262677838704">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262677837616">
								<p>
									Maximum allowed size of an image layer.<br/><br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^[0-9]+(G|M)$</code><br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal">100G</code><br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">20G</code>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-storage-local"><div class="titlepage"><div><div><h3 class="title">3.6.3. Local storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using local storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  default:
    - LocalStorage
    - storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - default</pre></section><section class="section" id="config-fields-storage-noobaa"><div class="titlepage"><div><div><h3 class="title">3.6.4. OCS/NooBaa</h3></div></div></div><p>
					The following YAML shows a sample configuration using an Open Container Storage/NooBaa instance:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  rhocsStorage:
    - RHOCSStorage
    - access_key: access_key_here
      secret_key: secret_key_here
      bucket_name: quay-datastore-9b2108a3-29f5-43f2-a9d5-2872174f9a56
      hostname: s3.openshift-storage.svc.cluster.local
      is_secure: 'true'
      port: '443'
      storage_path: /datastorage/registry</pre></section><section class="section" id="config-fields-storage-rados"><div class="titlepage"><div><div><h3 class="title">3.6.5. Ceph / RadosGW Storage / Hitachi HCP</h3></div></div></div><p>
					The following YAML shows a sample configuration using Ceph/RadosGW and Hitachi HCP storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  radosGWStorage:
    - RadosGWStorage
    - access_key: access_key_here
      secret_key: secret_key_here
      bucket_name: bucket_name_here
      hostname: hostname_here
      is_secure: 'true'
      port: '443'
      storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - default</pre></section><section class="section" id="config-fields-storage-aws"><div class="titlepage"><div><div><h3 class="title">3.6.6. AWS S3 storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using AWS S3 storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  s3Storage:
    - S3Storage
    - host: s3.us-east-2.amazonaws.com
      s3_access_key: ABCDEFGHIJKLMN
      s3_secret_key: OL3ABCDEFGHIJKLMN
      s3_bucket: quay_bucket
      storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - s3Storage</pre></section><section class="section" id="config-fields-storage-gcp"><div class="titlepage"><div><div><h3 class="title">3.6.7. Google Cloud Storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using Google Cloud Storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
    googleCloudStorage:
        - GoogleCloudStorage
        - access_key: GOOGQIMFB3ABCDEFGHIJKLMN
          bucket_name: quay-bucket
          secret_key: FhDAYe2HeuAKfvZCAGyOioNaaRABCDEFGHIJKLMN
          storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - googleCloudStorage</pre></section><section class="section" id="config-fields-storage-azure"><div class="titlepage"><div><div><h3 class="title">3.6.8. Azure Storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using Azure Storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  azureStorage:
    - AzureStorage
    - azure_account_name: azure_account_name_here
      azure_container: azure_container_here
      storage_path: /datastorage/registry
      azure_account_key: azure_account_key_here
      sas_token: some/path/
      endpoint_url: https://[account-name].blob.core.usgovcloudapi.net <span id="CO1-1"/><span class="callout">1</span>
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - azureStorage</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The <code class="literal">endpoint_url</code> parameter for Azure storage is optional and can be used with Microsoft Azure Government (MAG) endpoints. If left blank, the <code class="literal">endpoint_url</code> will connect to the normal Azure region.
						</div><p>
							As of Red Hat Quay 3.7, you must use the Primary endpoint of your MAG Blob service. Using the Secondary endpoint of your MAG Blob service will result in the following error: <code class="literal">AuthenticationErrorDetail:Cannot find the claimed account when trying to GetProperties for the account whusc8-secondary</code>.
						</p></dd></dl></div></section><section class="section" id="config-fields-storage-swift"><div class="titlepage"><div><div><h3 class="title">3.6.9. Swift storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using Swift storage:
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  swiftStorage:
    - SwiftStorage
    - swift_user: swift_user_here
      swift_password: swift_password_here
      swift_container: swift_container_here
      auth_url: https://example.org/swift/v1/quay
      auth_version: 1
      ca_cert_path: /conf/stack/swift.cert"
      storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE:
    - swiftStorage</pre></section><section class="section" id="config-fields-nutanix"><div class="titlepage"><div><div><h3 class="title">3.6.10. Nutanix object storage</h3></div></div></div><p>
					The following YAML shows a sample configuration using Nutanix object storage.
				</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
  nutanixStorage: #storage config name
    - RadosGWStorage #actual driver
    - access_key: access_key_here #parameters
      secret_key: secret_key_here
      bucket_name: bucket_name_here
      hostname: hostname_here
      is_secure: 'true'
      port: '443'
      storage_path: /datastorage/registry
DISTRIBUTED_STORAGE_DEFAULT_LOCATIONS: []
DISTRIBUTED_STORAGE_PREFERENCE: #must contain name of the storage config
    - nutanixStorage</pre></section></section><section class="section" id="config-fields-redis"><div class="titlepage"><div><div><h2 class="title">3.7. Redis configuration fields</h2></div></div></div><p>
				This section details the configuration fields available for Redis deployments.
			</p><section class="section" id="build_logs"><div class="titlepage"><div><div><h3 class="title">3.7.1. Build logs</h3></div></div></div><p>
					The following build logs configuration fields are available for Redis deployments:
				</p><div class="table" id="idm46262678485504"><p class="title"><strong>Table 3.7. Build logs configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678255792" scope="col">Field</th><th align="left" valign="top" id="idm46262678254704" scope="col">Type</th><th align="left" valign="top" id="idm46262678253616" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678255792">
								<p>
									<span class="strong strong"><strong>BUILDLOGS_REDIS</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678254704">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262678253616">
								<p>
									Redis connection details for build logs caching.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678255792">
								<p>
									<span class="strong strong"><strong>.host</strong></span> <br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678254704">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678253616">
								<p>
									The hostname at which Redis is accessible.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">quay-server.example.com</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678255792">
								<p>
									<span class="strong strong"><strong>.port</strong></span> <br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678254704">
								<p>
									Number
								</p>
								</td><td align="left" valign="top" headers="idm46262678253616">
								<p>
									The port at which Redis is accessible.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">6379</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678255792">
								<p>
									<span class="strong strong"><strong>.password</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262678254704">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678253616">
								<p>
									The password to connect to the Redis instance.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">strongpassword</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678255792">
								<p>
									<span class="strong strong"><strong>.ssl</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678254704">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262678253616">
								<p>
									Whether to enable TLS communication between Redis and Quay. Defaults to false.
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="user-event-fields-redis"><div class="titlepage"><div><div><h3 class="title">3.7.2. User events</h3></div></div></div><p>
					The following user event fields are available for Redis deployments:
				</p><div class="table" id="idm46262678877904"><p class="title"><strong>Table 3.8. User events config</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678475776" scope="col">Field</th><th align="left" valign="top" id="idm46262678474688" scope="col">Type</th><th align="left" valign="top" id="idm46262678473600" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>USER_EVENTS_REDIS</strong></span><br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Redis connection details for user event handling.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.host</strong></span> <br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									The hostname at which Redis is accessible.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">quay-server.example.com</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.port</strong></span> <br/> (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									Number
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									The port at which Redis is accessible.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">6379</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.password</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									The password to connect to the Redis instance.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">strongpassword</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Whether to enable TLS communication between Redis and Quay. Defaults to false.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_keyfile</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									The name of the key database file, which houses the client certificate to be used.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_keyfile: /path/to/server/privatekey.pem</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_certfile</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Used for specifying the file path of the SSL certificate.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_certfile: /path/to/server/certificate.pem</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_cert_reqs</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Used to specify the level of certificate validation to be performed during the SSL/TLS handshake.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_cert_reqs: CERT_REQUIRED</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_ca_certs</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Used to specify the path to a file containing a list of trusted Certificate Authority (CA) certificates.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_ca_certs: /path/to/ca_certs.pem</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_ca_data</strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Used to specify a string containing the trusted CA certificates in PEM format.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_ca_data: &lt;certificate&gt;</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262678475776">
								<p>
									<span class="strong strong"><strong>.ssl_check_hostname </strong></span><br/> (Optional)
								</p>
								</td><td align="left" valign="top" headers="idm46262678474688">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262678473600">
								<p>
									Used when setting up an SSL/TLS connection to a server. It specifies whether the client should check that the hostname in the server’s SSL/TLS certificate matches the hostname of the server it is connecting to.<br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">ssl_check_hostname: true</code>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="example-redis-configuration"><div class="titlepage"><div><div><h3 class="title">3.7.3. Example Redis configuration</h3></div></div></div><p>
					The following YAML shows a sample configuration using Redis with optional SSL/TLS fields:
				</p><pre class="programlisting language-yaml">BUILDLOGS_REDIS:
  host: quay-server.example.com
  password: strongpassword
  port: 6379
  ssl: true


USER_EVENTS_REDIS:
  host: quay-server.example.com
  password: strongpassword
  port: 6379
  ssl: true
  ssl_*: &lt;path_location_or_certificate&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If your deployment uses Azure Cache for Redis and <code class="literal">ssl</code> is set to <code class="literal">true</code>, the port defaults to <code class="literal">6380</code>.
					</p></div></div></section></section><section class="section" id="config-fields-modelcache"><div class="titlepage"><div><div><h2 class="title">3.8. ModelCache configuration options</h2></div></div></div><p>
				The following options are available on Red Hat Quay for configuring ModelCache.
			</p><section class="section" id="config-fields-modelcache-memcache"><div class="titlepage"><div><div><h3 class="title">3.8.1. Memcache configuration option</h3></div></div></div><p>
					Memcache is the default ModelCache configuration option. With Memcache, no additional configuration is necessary.
				</p></section><section class="section" id="config-fields-modelcache-single-redis"><div class="titlepage"><div><div><h3 class="title">3.8.2. Single Redis configuration option</h3></div></div></div><p>
					The following configuration is for a single Redis instance with optional read-only replicas:
				</p><pre class="programlisting language-yaml">    DATA_MODEL_CACHE_CONFIG:
      engine: redis
      redis_config:
        primary:
            host: &lt;host&gt;
            port: &lt;port&gt;
            password: &lt;password if ssl is true&gt;
           ssl: &lt;true | false &gt;
        replica:
            host: &lt;host&gt;
            port: &lt;port&gt;
            password: &lt;password if ssl is true&gt;
           ssl: &lt;true | false &gt;</pre></section><section class="section" id="config-fields-modelcache-clustered-redis"><div class="titlepage"><div><div><h3 class="title">3.8.3. Clustered Redis configuration option</h3></div></div></div><p>
					Use the following configuration for a clustered Redis instance:
				</p><pre class="programlisting language-yaml">    DATA_MODEL_CACHE_CONFIG:
      engine: rediscluster
      redis_config:
        startup_nodes:
          - host: &lt;cluster-host&gt;
            port: &lt;port&gt;
        password: &lt;password if ssl: true&gt;
        read_from_replicas: &lt;true|false&gt;
        skip_full_coverage_check: &lt;true | false&gt;
        ssl: &lt;true | false &gt;</pre></section></section><section class="section" id="config-fields-tag-expiration"><div class="titlepage"><div><div><h2 class="title">3.9. Tag expiration configuration fields</h2></div></div></div><p>
				The following tag expiration configuration fields are available with Red Hat Quay:
			</p><div class="table" id="idm46262678509616"><p class="title"><strong>Table 3.9. Tag expiration configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678522624" scope="col">Field</th><th align="left" valign="top" id="idm46262678521536" scope="col">Type</th><th align="left" valign="top" id="idm46262678520448" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678522624">
							<p>
								<span class="strong strong"><strong>FEATURE_GARBAGE_COLLECTION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678521536">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678520448">
							<p>
								Whether garbage collection of repositories is enabled.<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678522624">
							<p>
								<span class="strong strong"><strong>TAG_EXPIRATION_OPTIONS</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262678521536">
							<p>
								Array of string
							</p>
							</td><td align="left" valign="top" headers="idm46262678520448">
							<p>
								If enabled, the options that users can select for expiration of tags in their namespace.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^[0-9]+(w|m|d|h|s)$</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678522624">
							<p>
								<span class="strong strong"><strong>DEFAULT_TAG_EXPIRATION</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262678521536">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678520448">
							<p>
								The default, configurable tag expiration time for time machine.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span> <br/><code class="literal">^[0-9]+(w|m|d|h|s)$</code><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">2w</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678522624">
							<p>
								<span class="strong strong"><strong>FEATURE_CHANGE_TAG_EXPIRATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678521536">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678520448">
							<p>
								Whether users and organizations are allowed to change the tag expiration for tags in their namespace.<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="example-config-fields-tag-expiration"><div class="titlepage"><div><div><h3 class="title">3.9.1. Example tag expiration configuration</h3></div></div></div><p>
					The following YAML shows a sample tag expiration configuration:
				</p><pre class="programlisting language-terminal">DEFAULT_TAG_EXPIRATION: 2w
TAG_EXPIRATION_OPTIONS:
    - 0s
    - 1d
    - 1w
    - 2w
    - 4w</pre></section></section><section class="section" id="config-fields-quota-management"><div class="titlepage"><div><div><h2 class="title">3.10. Quota management configuration fields</h2></div></div></div><div class="table" id="idm46262670527696"><p class="title"><strong>Table 3.10. Quota management configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678283680" scope="col">Field</th><th align="left" valign="top" id="idm46262678282592" scope="col">Type</th><th align="left" valign="top" id="idm46262678281504" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>FEATURE_QUOTA_MANAGEMENT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								Enables configuration, caching, and validation for quota management feature.
							</p>
							
<pre class="literallayout">**Default:** `False`</pre>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>DEFAULT_SYSTEM_REJECT_QUOTA_BYTES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								Enables system default quota reject byte allowance for all organizations.
							</p>
							<p>
								By default, no limit is set.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>QUOTA_BACKFILL</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								Enables the quota backfill worker to calculate the size of pre-existing blobs.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">True</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>QUOTA_TOTAL_DELAY_SECONDS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								The time delay for starting the quota backfill. Rolling deployments can cause incorrect totals. This field <span class="strong strong"><strong>must</strong></span> be set to a time longer than it takes for the rolling deployment to complete.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">1800</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>PERMANENTLY_DELETE_TAGS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								Enables functionality related to the removal of tags from the time machine window.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262678283680">
							<p>
								<span class="strong strong"><strong>RESET_CHILD_MANIFEST_EXPIRATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678282592">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678281504">
							<p>
								Resets the expirations of temporary tags targeting the child manifests. With this feature set to <code class="literal">True</code>, child manifests are immediately garbage collected.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="suggested-management-config-settings-39"><div class="titlepage"><div><div><h3 class="title">3.10.1. Example quota management configuration</h3></div></div></div><p>
					The following YAML is the suggested configuration when enabling quota management.
				</p><div class="formalpara"><p class="title"><strong>Quota management YAML configuration</strong></p><p>
						
<pre class="programlisting language-yaml">FEATURE_QUOTA_MANAGEMENT: true
FEATURE_GARBAGE_COLLECTION: true
PERMANENTLY_DELETE_TAGS: true
QUOTA_TOTAL_DELAY_SECONDS: 1800
RESET_CHILD_MANIFEST_EXPIRATION: true</pre>
					</p></div></section></section><section class="section" id="config-fields-proxy-cache"><div class="titlepage"><div><div><h2 class="title">3.11. Proxy cache configuration fields</h2></div></div></div><div class="table" id="idm46262669031712"><p class="title"><strong>Table 3.11. Proxy configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262678591136" scope="col">Field</th><th align="left" valign="top" id="idm46262678590048" scope="col">Type</th><th align="left" valign="top" id="idm46262678588960" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262678591136">
							<p>
								<span class="strong strong"><strong>FEATURE_PROXY_CACHE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678590048">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262678588960">
							<p>
								Enables Red Hat Quay to act as a pull through cache for upstream registries.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">false</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-preconfigure-automation"><div class="titlepage"><div><div><h2 class="title">3.12. Pre-configuring Red Hat Quay for automation</h2></div></div></div><p>
				Red Hat Quay supports several configuration options that enable automation. Users can configure these options before deployment to reduce the need for interaction with the user interface.
			</p><section class="section" id="allowing-the-api-to-create-first-user"><div class="titlepage"><div><div><h3 class="title">3.12.1. Allowing the API to create the first user</h3></div></div></div><p>
					To create the first user, users need to set the FEATURE_USER_INITIALIZE parameter to true and call the /api/v1/user/initialize API. Unlike all other registry API calls that require an OAuth token generated by an OAuth application in an existing organization, the API endpoint does not require authentication.
				</p><p>
					Users can use the API to create a user such as <code class="literal">quayadmin</code> after deploying Red Hat Quay, provided no other users have been created. For more information, see <a class="link" href="#using-the-api-to-create-first-user" title="3.12.8.1. Using the API to create the first user">Using the API to create the first user</a>.
				</p></section><section class="section" id="enabling-general-api-access"><div class="titlepage"><div><div><h3 class="title">3.12.2. Enabling general API access</h3></div></div></div><p>
					Users should set the BROWSER_API_CALLS_XHR_ONLY config option to false to allow general access to the Red Hat Quay registry API.
				</p></section><section class="section" id="adding-super-user"><div class="titlepage"><div><div><h3 class="title">3.12.3. Adding a superuser</h3></div></div></div><p>
					After deploying Red Hat Quay, users can create a user and give the first user administrator privileges with full permissions. Users can configure full permissions in advance by using the SUPER_USER configuration object. For example:
				</p><pre class="programlisting language-yaml">...
SERVER_HOSTNAME: quay-server.example.com
SETUP_COMPLETE: true
SUPER_USERS:
  - quayadmin
...</pre></section><section class="section" id="restricting-user-creation"><div class="titlepage"><div><div><h3 class="title">3.12.4. Restricting user creation</h3></div></div></div><p>
					After you have configured a superuser, you can restrict the ability to create new users to the superuser group by setting the <code class="literal">FEATURE_USER_CREATION</code> to <code class="literal">false</code>. For example:
				</p><pre class="programlisting language-yaml">...
FEATURE_USER_INITIALIZE: true
BROWSER_API_CALLS_XHR_ONLY: false
SUPER_USERS:
- quayadmin
FEATURE_USER_CREATION: false
...</pre></section><section class="section" id="enabling-new-functionality-38"><div class="titlepage"><div><div><h3 class="title">3.12.5. Enabling new functionality in Red Hat Quay 3.8</h3></div></div></div><p>
					To use new Red Hat Quay 3.8 functions, enable some or all of the following features:
				</p><pre class="programlisting language-yaml">...
FEATURE_UI_V2: true
FEATURE_LISTEN_IP_VERSION:
FEATURE_SUPERUSERS_FULL_ACCESS: true
GLOBAL_READONLY_SUPER_USERS:
      -
FEATURE_RESTRICTED_USERS: true
RESTRICTED_USERS_WHITELIST:
      -
...</pre></section><section class="section" id="enabling-new-functionality-37"><div class="titlepage"><div><div><h3 class="title">3.12.6. Enabling new functionality in Red Hat Quay 3.7</h3></div></div></div><p>
					To use new Red Hat Quay 3.7 functions, enable some or all of the following features:
				</p><pre class="programlisting language-yaml">...
FEATURE_QUOTA_MANAGEMENT: true
FEATURE_BUILD_SUPPORT: true
FEATURE_PROXY_CACHE: true
FEATURE_STORAGE_REPLICATION: true
DEFAULT_SYSTEM_REJECT_QUOTA_BYTES: 102400000
...</pre></section><section class="section" id="suggested-configuration-for-automation"><div class="titlepage"><div><div><h3 class="title">3.12.7. Suggested configuration for automation</h3></div></div></div><p>
					The following <code class="literal">config.yaml</code> parameters are suggested for automation:
				</p><pre class="programlisting language-yaml">...
FEATURE_USER_INITIALIZE: true
BROWSER_API_CALLS_XHR_ONLY: false
SUPER_USERS:
- quayadmin
FEATURE_USER_CREATION: false
...</pre></section><section class="section" id="deploying-the-operator-using-initial-configuration"><div class="titlepage"><div><div><h3 class="title">3.12.8. Deploying the Red Hat Quay Operator using the initial configuration</h3></div></div></div><p>
					Use the following procedure to deploy Red Hat Quay on OpenShift Container Platform using the initial configuration.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed the <code class="literal">oc</code> CLI.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a secret using the configuration file:
						</p><pre class="programlisting language-terminal">$ oc create secret generic -n quay-enterprise --from-file config.yaml=./config.yaml init-config-bundle-secret</pre></li><li class="listitem"><p class="simpara">
							Create a <code class="literal">quayregistry.yaml</code> file. Identify the unmanaged components and reference the created secret, for example:
						</p><pre class="programlisting language-yaml">apiVersion: quay.redhat.com/v1
kind: QuayRegistry
metadata:
  name: example-registry
  namespace: quay-enterprise
spec:
  configBundleSecret: init-config-bundle-secret</pre></li><li class="listitem"><p class="simpara">
							Deploy the Red Hat Quay registry:
						</p><pre class="programlisting language-terminal">$ oc create -n quay-enterprise -f quayregistry.yaml</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next Steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="#using-the-api-to-create-first-user" title="3.12.8.1. Using the API to create the first user">Using the API to create the first user</a>
						</li></ul></div><section class="section" id="using-the-api-to-create-first-user"><div class="titlepage"><div><div><h4 class="title">3.12.8.1. Using the API to create the first user</h4></div></div></div><p>
						Use the following procedure to create the first user in your Red Hat Quay organization.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								The config option <code class="literal">FEATURE_USER_INITIALIZE</code> must be set to <code class="literal">true</code>.
							</li><li class="listitem">
								No users can already exist in the database.
							</li></ul></div><div class="admonition note"><div class="admonition_header">Procedure</div><div><p>
							This procedure requests an OAuth token by specifying <code class="literal">"access_token": true</code>.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								As the root user, install <code class="literal">python39</code> by entering the following command:
							</p><pre class="programlisting language-terminal">$ sudo yum install python39</pre></li><li class="listitem"><p class="simpara">
								Upgrade the <code class="literal">pip</code> package manager for Python 3.9:
							</p><pre class="programlisting language-terminal">$ python3.9 -m pip install --upgrade pip</pre></li><li class="listitem"><p class="simpara">
								Use the <code class="literal">pip</code> package manager to install the <code class="literal">bcrypt</code> package:
							</p><pre class="programlisting language-terminal">$ pip install bcrypt</pre></li><li class="listitem"><p class="simpara">
								Generate a secure, hashed password using the <code class="literal">bcrypt</code> package in Python 3.9 by entering the following command:
							</p><pre class="programlisting language-terminal">$ python3.9 -c 'import bcrypt; print(bcrypt.hashpw(b"subquay12345", bcrypt.gensalt(12)).decode("utf-8"))'</pre></li><li class="listitem"><p class="simpara">
								Open your Red Hat Quay configuration file and update the following configuration fields:
							</p><pre class="programlisting language-yaml">FEATURE_USER_INITIALIZE: true
SUPER_USERS:
     -  quayadmin</pre></li><li class="listitem"><p class="simpara">
								Stop the Red Hat Quay service by entering the following command:
							</p><pre class="programlisting language-terminal">$ sudo podman stop quay</pre></li><li class="listitem"><p class="simpara">
								Start the Red Hat Quay service by entering the following command:
							</p><pre class="programlisting language-terminal">$ sudo podman run -d -p 80:8080 -p 443:8443 --name=quay -v $QUAY/config:/conf/stack:Z  -v $QUAY/storage:/datastorage:Z {productrepo}/{quayimage}:{productminv}</pre></li><li class="listitem"><p class="simpara">
								Run the following <code class="literal">CURL</code> command to generate a new user with a username, password, email, and access token:
							</p><pre class="programlisting language-terminal">$ curl -X POST -k  http://quay-server.example.com/api/v1/user/initialize --header 'Content-Type: application/json' --data '{ "username": "quayadmin", "password":"quaypass12345", "email": "quayadmin@example.com", "access_token": true}'</pre><p class="simpara">
								If successful, the command returns an object with the username, email, and encrypted password. For example:
							</p><pre class="programlisting language-yaml">{"access_token":"6B4QTRSTSD1HMIG915VPX7BMEZBVB9GPNY2FC2ED", "email":"quayadmin@example.com","encrypted_password":"1nZMLH57RIE5UGdL/yYpDOHLqiNCgimb6W9kfF8MjZ1xrfDpRyRs9NUnUuNuAitW","username":"quayadmin"} # gitleaks:allow</pre><p class="simpara">
								If a user already exists in the database, an error is returned:
							</p><pre class="programlisting language-terminal">{"message":"Cannot initialize user in a non-empty database"}</pre><p class="simpara">
								If your password is not at least eight characters or contains whitespace, an error is returned:
							</p><pre class="programlisting language-terminal">{"message":"Failed to initialize user: Invalid password, password must be at least 8 characters and contain no whitespace."}</pre></li><li class="listitem"><p class="simpara">
								Log in to your Red Hat Quay deployment by entering the following command:
							</p><pre class="programlisting language-terminal">$ sudo podman login -u quayadmin -p quaypass12345 http://quay-server.example.com --tls-verify=false</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">Login Succeeded!</pre>
								</p></div></li></ol></div></section><section class="section" id="using-the-oauth-token"><div class="titlepage"><div><div><h4 class="title">3.12.8.2. Using the OAuth token</h4></div></div></div><p>
						After invoking the API, you can call out the rest of the Red Hat Quay API by specifying the returned OAuth code.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have invoked the <code class="literal">/api/v1/user/initialize</code> API, and passed in the username, password, and email address.
							</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Obtain the list of current users by entering the following command:
							</p><pre class="programlisting language-terminal">$ curl -X GET -k -H "Authorization: Bearer 6B4QTRSTSD1HMIG915VPX7BMEZBVB9GPNY2FC2ED" https://example-registry-quay-quay-enterprise.apps.docs.quayteam.org/api/v1/superuser/users/</pre><p class="simpara">
								Example output:
							</p><pre class="programlisting language-yaml">{
    "users": [
        {
            "kind": "user",
            "name": "quayadmin",
            "username": "quayadmin",
            "email": "quayadmin@example.com",
            "verified": true,
            "avatar": {
                "name": "quayadmin",
                "hash": "3e82e9cbf62d25dec0ed1b4c66ca7c5d47ab9f1f271958298dea856fb26adc4c",
                "color": "#e7ba52",
                "kind": "user"
            },
            "super_user": true,
            "enabled": true
        }
    ]
}</pre><p class="simpara">
								In this instance, the details for the <code class="literal">quayadmin</code> user are returned as it is the only user that has been created so far.
							</p></li></ul></div></section><section class="section" id="using-the-api-to-create-an-organization"><div class="titlepage"><div><div><h4 class="title">3.12.8.3. Using the API to create an organization</h4></div></div></div><p>
						The following procedure details how to use the API to create a Red Hat Quay organization.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You have invoked the <code class="literal">/api/v1/user/initialize</code> API, and passed in the username, password, and email address.
							</li><li class="listitem">
								You have called out the rest of the Red Hat Quay API by specifying the returned OAuth code.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To create an organization, use a POST call to <code class="literal">api/v1/organization/</code> endpoint:
							</p><pre class="programlisting language-terminal">$ curl -X POST -k --header 'Content-Type: application/json' -H "Authorization: Bearer 6B4QTRSTSD1HMIG915VPX7BMEZBVB9GPNY2FC2ED" https://example-registry-quay-quay-enterprise.apps.docs.quayteam.org/api/v1/organization/ --data '{"name": "testorg", "email": "testorg@example.com"}'</pre><p class="simpara">
								Example output:
							</p><pre class="programlisting language-yaml">"Created"</pre></li><li class="listitem"><p class="simpara">
								You can retrieve the details of the organization you created by entering the following command:
							</p><pre class="programlisting language-terminal">$ curl -X GET -k --header 'Content-Type: application/json' -H "Authorization: Bearer 6B4QTRSTSD1HMIG915VPX7BMEZBVB9GPNY2FC2ED" https://min-registry-quay-quay-enterprise.apps.docs.quayteam.org/api/v1/organization/testorg</pre><p class="simpara">
								Example output:
							</p><pre class="programlisting language-terminal">{
    "name": "testorg",
    "email": "testorg@example.com",
    "avatar": {
        "name": "testorg",
        "hash": "5f113632ad532fc78215c9258a4fb60606d1fa386c91b141116a1317bf9c53c8",
        "color": "#a55194",
        "kind": "user"
    },
    "is_admin": true,
    "is_member": true,
    "teams": {
        "owners": {
            "name": "owners",
            "description": "",
            "role": "admin",
            "avatar": {
                "name": "owners",
                "hash": "6f0e3a8c0eb46e8834b43b03374ece43a030621d92a7437beb48f871e90f8d90",
                "color": "#c7c7c7",
                "kind": "team"
            },
            "can_view": true,
            "repo_count": 0,
            "member_count": 1,
            "is_synced": false
        }
    },
    "ordered_teams": [
        "owners"
    ],
    "invoice_email": false,
    "invoice_email_address": null,
    "tag_expiration_s": 1209600,
    "is_free_account": true
}</pre></li></ol></div></section></section></section><section class="section" id="config-fields-basic"><div class="titlepage"><div><div><h2 class="title">3.13. Basic configuration fields</h2></div></div></div><div class="table" id="idm46262683725776"><p class="title"><strong>Table 3.12. Basic configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262683720016" scope="col">Field</th><th align="left" valign="top" id="idm46262678032224" scope="col">Type</th><th align="left" valign="top" id="idm46262678031168" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>REGISTRY_TITLE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								If specified, the long-form title for the registry. Displayed in frontend of your Red Hat Quay deployment, for example, at the sign in page of your organization. Should not exceed 35 characters. <br/><span class="strong strong"><strong>Default:</strong></span><br/><code class="literal">Red Hat Quay</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>REGISTRY_TITLE_SHORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								If specified, the short-form title for the registry. Title is displayed on various pages of your organization, for example, as the title of the tutorial on your organization’s <span class="strong strong"><strong>Tutorial</strong></span> page. <br/><span class="strong strong"><strong>Default:</strong></span><br/><code class="literal">Red Hat Quay</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>CONTACT_INFO</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								If specified, contact information to display on the contact page. If only a single piece of contact information is specified, the contact footer will link directly.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>[0]</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								Adds a link to send an e-mail.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^mailto:(.)+$</code><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">mailto:support@quay.io</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>[1]</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								Adds a link to visit an IRC chat room.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^irc://(.)+$</code><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal"><a class="link" href="irc://chat.freenode.net:6665/quay">irc://chat.freenode.net:6665/quay</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>[2]</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								Adds a link to call a phone number.+ <br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^tel:(.)+$</code><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">tel:+1-888-930-3475</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683720016">
							<p>
								<span class="strong strong"><strong>[3]</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262678032224">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262678031168">
							<p>
								Adds a link to a defined URL.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^http(s)?://(.)+$</code><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal"><a class="link" href="https://twitter.com/quayio">https://twitter.com/quayio</a></code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-ssl"><div class="titlepage"><div><div><h2 class="title">3.14. SSL configuration fields</h2></div></div></div><div class="table" id="idm46262679195440"><p class="title"><strong>Table 3.13. SSL configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262669089168" scope="col">Field</th><th align="left" valign="top" id="idm46262669088080" scope="col">Type</th><th align="left" valign="top" id="idm46262669086992" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262669089168">
							<p>
								<span class="strong strong"><strong>PREFERRED_URL_SCHEME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669088080">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262669086992">
							<p>
								One of <code class="literal">http</code> or <code class="literal">https</code>. Note that users only set their <code class="literal">PREFERRED_URL_SCHEME</code> to <code class="literal">http</code> when there is no TLS encryption in the communication path from the client to Quay.
							</p>
							<p>
								+ Users must set their <code class="literal">PREFERRED_URL_SCHEME`to `https</code> when using a TLS-terminating load balancer, a reverse proxy (for example, Nginx), or when using Quay with custom SSL certificates directly. In most cases, the <code class="literal">PREFERRED_URL_SCHEME</code> should be <code class="literal">https</code>. <br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">http</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669089168">
							<p>
								<span class="strong strong"><strong>SERVER_HOSTNAME</strong></span> <br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262669088080">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262669086992">
							<p>
								The URL at which Red Hat Quay is accessible, without the scheme<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">quay-server.example.com</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669089168">
							<p>
								<span class="strong strong"><strong>SSL_CIPHERS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669088080">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262669086992">
							<p>
								If specified, the nginx-defined list of SSL ciphers to enabled and disabled<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/> [<code class="literal">CAMELLIA</code>, <code class="literal">!3DES</code>]
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669089168">
							<p>
								<span class="strong strong"><strong>SSL_PROTOCOLS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669088080">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262669086992">
							<p>
								If specified, nginx is configured to enabled a list of SSL protocols defined in the list. Removing an SSL protocol from the list disables the protocol during Red Hat Quay startup.<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">['TLSv1','TLSv1.1','TLSv1.2', `TLSv1.3</code>]`
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669089168">
							<p>
								<span class="strong strong"><strong>SESSION_COOKIE_SECURE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669088080">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262669086992">
							<p>
								Whether the <code class="literal">secure</code> property should be set on session cookies<br/><br/><span class="strong strong"><strong>Default:</strong></span><br/> False<br/><br/><span class="strong strong"><strong>Recommendation:</strong></span><br/> Set to True for all installations using SSL
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="configuring_ssl"><div class="titlepage"><div><div><h3 class="title">3.14.1. Configuring SSL</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Copy the certificate file and primary key file to your configuration directory, ensuring they are named <code class="literal">ssl.cert</code> and <code class="literal">ssl.key</code> respectively:
						</p><pre class="screen">$ cp ~/ssl.cert $QUAY/config
$ cp ~/ssl.key $QUAY/config
$ cd $QUAY/config</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">config.yaml</code> file and specify that you want Quay to handle TLS:
						</p><div class="formalpara"><p class="title"><strong>config.yaml</strong></p><p>
								
<pre class="programlisting language-yaml">...
SERVER_HOSTNAME: quay-server.example.com
...
PREFERRED_URL_SCHEME: https
...</pre>
							</p></div></li><li class="listitem">
							Stop the <code class="literal">Quay</code> container and restart the registry
						</li></ol></div></section></section><section class="section" id="config-custom-ssl-certs-manual"><div class="titlepage"><div><div><h2 class="title">3.15. Adding TLS Certificates to the Red Hat Quay Container</h2></div></div></div><p>
				To add custom TLS certificates to Red Hat Quay, create a new directory named <code class="literal">extra_ca_certs/</code> beneath the Red Hat Quay config directory. Copy any required site-specific TLS certificates to this new directory.
			</p><section class="section" id="add-certificates-to-quay-container"><div class="titlepage"><div><div><h3 class="title">3.15.1. Add TLS certificates to Red Hat Quay</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							View certificate to be added to the container
						</p><pre class="screen">$ cat storage.crt
-----BEGIN CERTIFICATE-----
MIIDTTCCAjWgAwIBAgIJAMVr9ngjJhzbMA0GCSqGSIb3DQEBCwUAMD0xCzAJBgNV
[...]
-----END CERTIFICATE-----</pre></li><li class="listitem"><p class="simpara">
							Create certs directory and copy certificate there
						</p><pre class="screen">$ mkdir -p quay/config/extra_ca_certs
$ cp storage.crt quay/config/extra_ca_certs/
$ tree quay/config/
├── config.yaml
├── extra_ca_certs
│   ├── storage.crt</pre></li><li class="listitem"><p class="simpara">
							Obtain the <code class="literal">Quay</code> container’s <code class="literal">CONTAINER ID</code> with <code class="literal">podman ps</code>:
						</p><pre class="screen">$ sudo podman ps
CONTAINER ID        IMAGE                                COMMAND                  CREATED             STATUS              PORTS
5a3e82c4a75f        &lt;registry&gt;/&lt;repo&gt;/quay:v3.9.0 "/sbin/my_init"          24 hours ago        Up 18 hours         0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 443/tcp   grave_keller</pre></li><li class="listitem"><p class="simpara">
							Restart the container with that ID:
						</p><pre class="screen">$ sudo podman restart 5a3e82c4a75f</pre></li><li class="listitem"><p class="simpara">
							Examine the certificate copied into the container namespace:
						</p><pre class="screen">$ sudo podman exec -it 5a3e82c4a75f cat /etc/ssl/certs/storage.pem
-----BEGIN CERTIFICATE-----
MIIDTTCCAjWgAwIBAgIJAMVr9ngjJhzbMA0GCSqGSIb3DQEBCwUAMD0xCzAJBgNV</pre></li></ol></div></section></section><section class="section" id="config-fields-ldap"><div class="titlepage"><div><div><h2 class="title">3.16. LDAP configuration fields</h2></div></div></div><div class="table" id="idm46262683757776"><p class="title"><strong>Table 3.14. LDAP configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262683752016" scope="col">Field</th><th align="left" valign="top" id="idm46262683750928" scope="col">Type</th><th align="left" valign="top" id="idm46262683749840" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>AUTHENTICATION_TYPE</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Must be set to <code class="literal">LDAP</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>FEATURE_TEAM_SYNCING</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Whether to allow for team membership to be synced from a backing group in the authentication engine (LDAP or Keystone).<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>FEATURE_NONSUPERUSER_TEAM_SYNCING_SETUP</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								If enabled, non-superusers can setup syncing on teams using LDAP.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_ADMIN_DN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The admin DN for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_ADMIN_PASSWD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The admin password for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_ALLOW_INSECURE_FALLBACK</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Whether or not to allow SSL insecure fallback for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_BASE_DN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The base DN for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_EMAIL_ATTR</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The email attribute for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_UID_ATTR</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The uid attribute for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_URI</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The LDAP URI.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_USER_FILTER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The user filter for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_USER_RDN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								The user RDN for LDAP authentication.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>TEAM_RESYNC_STALE_TIME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								If team syncing is enabled for a team, how often to check its membership and resync if necessary.<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^[0-9]+(w|m|d|h|s)$</code><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">2h</code><br/><span class="strong strong"><strong>Default:</strong></span><br/><code class="literal">30m</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_SUPERUSER_FILTER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Subset of the <code class="literal">LDAP_USER_FILTER</code> configuration field. When configured, allows Red Hat Quay administrators the ability to configure Lightweight Directory Access Protocol (LDAP) users as superusers when Red Hat Quay uses LDAP as its authentication provider.
							</p>
							<p>
								With this field, administrators can add or remove superusers without having to update the Red Hat Quay configuration file and restart their deployment.
							</p>
							<p>
								This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">LDAP</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_RESTRICTED_USER_FILTER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Subset of the <code class="literal">LDAP_USER_FILTER</code> configuration field. When configured, allows Red Hat Quay administrators the ability to configure Lightweight Directory Access Protocol (LDAP) users as restricted users when Red Hat Quay uses LDAP as its authentication provider.
							</p>
							<p>
								This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">LDAP</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_TIMEOUT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Integer
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Determines the maximum time period. in seconds, allowed for establishing a connection to the Lightweight Directory Access Protocol (LDAP) server.<br/>
							</p>
							<p>
								+ <span class="strong strong"><strong>Default:</strong></span> <code class="literal">10</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262683752016">
							<p>
								<span class="strong strong"><strong>LDAP_NETWORK_TIMEOUT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262683750928">
							<p>
								Integer
							</p>
							</td><td align="left" valign="top" headers="idm46262683749840">
							<p>
								Defines the maximum time duration, in seconds, that Red Hat Quay waits for a response from the Lightweight Directory Access Protocol (LDAP) server during network operations.<br/>
							</p>
							<p>
								+ <span class="strong strong"><strong>Default:</strong></span> <code class="literal">10</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="ldap-config-field-reference"><div class="titlepage"><div><div><h3 class="title">3.16.1. LDAP configuration references</h3></div></div></div><p>
					Use the following references to update your <code class="literal">config.yaml</code> file with the desired configuration field.
				</p><section class="section" id="reference-ldap-user"><div class="titlepage"><div><div><h4 class="title">3.16.1.1. Basic LDAP configuration</h4></div></div></div><pre class="programlisting language-yaml">---
AUTHENTICATION_TYPE: LDAP
---
LDAP_ADMIN_DN: uid=&lt;name&gt;,ou=Users,o=&lt;organization_id&gt;,dc=&lt;example_domain_component&gt;,dc=com
LDAP_ADMIN_PASSWD: ABC123
LDAP_ALLOW_INSECURE_FALLBACK: false
LDAP_BASE_DN:
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com
LDAP_EMAIL_ATTR: mail
LDAP_UID_ATTR: uid
LDAP_URI: ldaps://&lt;ldap_url_domain_name&gt;
LDAP_USER_FILTER: (memberof=cn=developers,ou=Users,dc=&lt;domain_name&gt;,dc=com)
LDAP_USER_RDN:
    - ou=&lt;example_organization_unit&gt;
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com</pre></section><section class="section" id="reference-ldap-restricted-user"><div class="titlepage"><div><div><h4 class="title">3.16.1.2. LDAP restricted user configuration</h4></div></div></div><pre class="programlisting language-yaml">---
AUTHENTICATION_TYPE: LDAP
---
LDAP_ADMIN_DN: uid=&lt;name&gt;,ou=Users,o=&lt;organization_id&gt;,dc=&lt;example_domain_component&gt;,dc=com
LDAP_ADMIN_PASSWD: ABC123
LDAP_ALLOW_INSECURE_FALLBACK: false
LDAP_BASE_DN:
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com
LDAP_EMAIL_ATTR: mail
LDAP_UID_ATTR: uid
LDAP_URI: ldap://&lt;example_url&gt;.com
LDAP_USER_FILTER: (memberof=cn=developers,ou=Users,o=&lt;example_organization_unit&gt;,dc=&lt;example_domain_component&gt;,dc=com)
LDAP_RESTRICTED_USER_FILTER: (&lt;filterField&gt;=&lt;value&gt;)
LDAP_USER_RDN:
    - ou=&lt;example_organization_unit&gt;
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com
---</pre></section><section class="section" id="reference-ldap-super-user"><div class="titlepage"><div><div><h4 class="title">3.16.1.3. LDAP superuser configuration reference</h4></div></div></div><pre class="programlisting language-yaml">---
AUTHENTICATION_TYPE: LDAP
---
LDAP_ADMIN_DN: uid=&lt;name&gt;,ou=Users,o=&lt;organization_id&gt;,dc=&lt;example_domain_component&gt;,dc=com
LDAP_ADMIN_PASSWD: ABC123
LDAP_ALLOW_INSECURE_FALLBACK: false
LDAP_BASE_DN:
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com
LDAP_EMAIL_ATTR: mail
LDAP_UID_ATTR: uid
LDAP_URI: ldap://&lt;example_url&gt;.com
LDAP_USER_FILTER: (memberof=cn=developers,ou=Users,o=&lt;example_organization_unit&gt;,dc=&lt;example_domain_component&gt;,dc=com)
LDAP_SUPERUSER_FILTER: (&lt;filterField&gt;=&lt;value&gt;)
LDAP_USER_RDN:
    - ou=&lt;example_organization_unit&gt;
    - o=&lt;organization_id&gt;
    - dc=&lt;example_domain_component&gt;
    - dc=com</pre></section></section></section><section class="section" id="config-fields-mirroring"><div class="titlepage"><div><div><h2 class="title">3.17. Mirroring configuration fields</h2></div></div></div><div class="table" id="idm46262672026480"><p class="title"><strong>Table 3.15. Mirroring configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672020720" scope="col">Field</th><th align="left" valign="top" id="idm46262672019632" scope="col">Type</th><th align="left" valign="top" id="idm46262672018544" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672020720">
							<p>
								<span class="strong strong"><strong>FEATURE_REPO_MIRROR</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672019632">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672018544">
							<p>
								Enable or disable repository mirroring<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672020720">
							<p>
								<span class="strong strong"><strong>REPO_MIRROR_INTERVAL</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672019632">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262672018544">
							<p>
								The number of seconds between checking for repository mirror candidates<br/><br/><span class="strong strong"><strong>Default:</strong></span> 30
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672020720">
							<p>
								<span class="strong strong"><strong>REPO_MIRROR_SERVER_HOSTNAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672019632">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672018544">
							<p>
								Replaces the <code class="literal">SERVER_HOSTNAME</code> as the destination for mirroring. <br/><br/><span class="strong strong"><strong>Default:</strong></span> None<br/><br/><span class="strong strong"><strong>Example</strong></span>:<br/><code class="literal">openshift-quay-service</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672020720">
							<p>
								<span class="strong strong"><strong>REPO_MIRROR_TLS_VERIFY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672019632">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672018544">
							<p>
								Require HTTPS and verify certificates of Quay registry during mirror.<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672020720">
							<p>
								<span class="strong strong"><strong>REPO_MIRROR_ROLLBACK</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672019632">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672018544">
							<p>
								When set to <code class="literal">true</code>, the repository rolls back after a failed mirror attempt.
							</p>
							<p>
								<span class="strong strong"><strong>Default</strong></span>: <code class="literal">false</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-scanner"><div class="titlepage"><div><div><h2 class="title">3.18. Security scanner configuration fields</h2></div></div></div><div class="table" id="idm46262674017536"><p class="title"><strong>Table 3.16. Security scanner configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262674011760" scope="col">Field</th><th align="left" valign="top" id="idm46262674010672" scope="col">Type</th><th align="left" valign="top" id="idm46262674009584" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>FEATURE_SECURITY_SCANNER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								Enable or disable the security scanner<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>FEATURE_SECURITY_NOTIFICATIONS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								If the security scanner is enabled, turn on or turn off security notifications<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_V4_REINDEX_THRESHOLD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								This parameter is used to determine the minimum time, in seconds, to wait before re-indexing a manifest that has either previously failed or has changed states since the last indexing. The data is calculated from the <code class="literal">last_indexed datetime</code> in the <span class="strong strong"><strong>manifestsecuritystatus</strong></span> table. This parameter is used to avoid trying to re-index every failed manifest on every indexing run. The default time to re-index is 300 seconds.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_V4_ENDPOINT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								The endpoint for the V4 security scanner<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^http(s)?://(.)+$</code><br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal"><a class="link" href="http://192.168.99.101:6060">http://192.168.99.101:6060</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_V4_PSK</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								The generated pre-shared key (PSK) for Clair
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_ENDPOINT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								The endpoint for the V2 security scanner<br/><br/><span class="strong strong"><strong>Pattern:</strong></span><br/><code class="literal">^http(s)?://(.)+$</code><br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal"><a class="link" href="http://192.168.99.100:6060">http://192.168.99.100:6060</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_INDEXING_INTERVAL</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								Integer
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								This parameter is used to determine the number of seconds between indexing intervals in the security scanner. When indexing is triggered, Red Hat Quay will query its database for manifests that must be indexed by Clair. These include manifests that have not yet been indexed and manifests that previously failed indexing.<br/>
							</p>
							<p>
								+ <span class="strong strong"><strong>Default:</strong></span> 30
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674011760">
							<p>
								<span class="strong strong"><strong>FEATURE_SECURITY_SCANNER_NOTIFY_ON_NEW_INDEX</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674010672">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674009584">
							<p>
								Whether to allow sending notifications about vulnerabilities for new pushes.
							</p>
							<p>
								+ <span class="strong strong"><strong>Default</strong></span>*: <code class="literal">True</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="reindexing-clair-v4"><div class="titlepage"><div><div><h3 class="title">3.18.1. Re-indexing with Clair v4</h3></div></div></div><p>
					When Clair v4 indexes a manifest, the result should be deterministic. For example, the same manifest should produce the same index report. This is true until the scanners are changed, as using different scanners will produce different information relating to a specific manifest to be returned in the report. Because of this, Clair v4 exposes a state representation of the indexing engine (<code class="literal">/indexer/api/v1/index_state</code>) to determine whether the scanner configuration has been changed.
				</p><p>
					Red Hat Quay leverages this index state by saving it to the index report when parsing to Quay’s database. If this state has changed since the manifest was previously scanned, Red Hat Quay will attempt to re-index that manifest during the periodic indexing process.
				</p><p>
					By default this parameter is set to 30 seconds. Users might decrease the time if they want the indexing process to run more frequently, for example, if they did not want to wait 30 seconds to see security scan results in the UI after pushing a new tag. Users can also change the parameter if they want more control over the request pattern to Clair and the pattern of database operations being performed on the Red Hat Quay database.
				</p></section><section class="section" id="example-security-scanner-config"><div class="titlepage"><div><div><h3 class="title">3.18.2. Example security scanner configuration</h3></div></div></div><p>
					The following YAML is the suggested configuration when enabling the security scanner feature.
				</p><div class="formalpara"><p class="title"><strong>Security scanner YAML configuration</strong></p><p>
						
<pre class="programlisting language-yaml">FEATURE_SECURITY_NOTIFICATIONS: true
FEATURE_SECURITY_SCANNER: true
FEATURE_SECURITY_SCANNER_NOTIFY_ON_NEW_INDEX: true
...
SECURITY_SCANNER_INDEXING_INTERVAL: 30
SECURITY_SCANNER_V4_ENDPOINT: http://quay-server.example.com:8081
SECURITY_SCANNER_V4_PSK: MTU5YzA4Y2ZkNzJoMQ==
SERVER_HOSTNAME: quay-server.example.com
...</pre>
					</p></div></section></section><section class="section" id="config-fields-helm-oci"><div class="titlepage"><div><div><h2 class="title">3.19. Helm configuration fields</h2></div></div></div><div class="table" id="idm46262674202384"><p class="title"><strong>Table 3.17. Helm configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262674196608" scope="col">Field</th><th align="left" valign="top" id="idm46262674195520" scope="col">Type</th><th align="left" valign="top" id="idm46262673422432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262674196608">
							<p>
								<span class="strong strong"><strong>FEATURE_GENERAL_OCI_SUPPORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674195520">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262673422432">
							<p>
								Enable support for OCI artifacts.<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr></tbody></table></div></div><p>
				The following Open Container Initiative (OCI) artifact types are built into Red Hat Quay by default and are enabled through the <span class="strong strong"><strong>FEATURE_GENERAL_OCI_SUPPORT</strong></span> configuration field:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 14%; " class="col_1"/><col style="width: 43%; " class="col_2"/><col style="width: 43%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670974400" scope="col">Field</th><th align="left" valign="top" id="idm46262670973312" scope="col">Media Type</th><th align="left" valign="top" id="idm46262670972224" scope="col">Supported content types</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>Helm</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.cncf.helm.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/tar+gzip</code>, <code class="literal">application/vnd.cncf.helm.chart.content.v1.tar+gzip</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>Cosign</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.oci.image.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/vnd.dev.cosign.simplesigning.v1+json</code>, <code class="literal">application/vnd.dsse.envelope.v1+json</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>SPDX</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.oci.image.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">text/spdx</code>, <code class="literal">text/spdx+xml</code>, <code class="literal">text/spdx+json</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>Syft</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.oci.image.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/vnd.syft+json</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>CycloneDX</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.oci.image.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/vnd.cyclonedx</code>, <code class="literal">application/vnd.cyclonedx+xml</code>, <code class="literal">application/vnd.cyclonedx+json</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>In-toto</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.oci.image.config.v1+json</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/vnd.in-toto+json</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670974400">
							<p>
								<span class="strong strong"><strong>Unknown</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670973312">
							<p>
								<code class="literal">application/vnd.cncf.openpolicyagent.policy.layer.v1+rego</code>
							</p>
							</td><td align="left" valign="top" headers="idm46262670972224">
							<p>
								<code class="literal">application/vnd.cncf.openpolicyagent.policy.layer.v1+rego</code>, <code class="literal">application/vnd.cncf.openpolicyagent.data.layer.v1+json</code>
							</p>
							</td></tr></tbody></table></div><section class="section" id="configuring-helm-config"><div class="titlepage"><div><div><h3 class="title">3.19.1. Configuring Helm</h3></div></div></div><p>
					The following YAML is the example configuration when enabling Helm.
				</p><div class="formalpara"><p class="title"><strong>Helm YAML configuration</strong></p><p>
						
<pre class="programlisting language-yaml">FEATURE_GENERAL_OCI_SUPPORT: true</pre>
					</p></div></section></section><section class="section" id="other-oci-artifacts-with-quay"><div class="titlepage"><div><div><h2 class="title">3.20. Open Container Initiative configuration fields</h2></div></div></div><div class="table" id="idm46262673888464"><p class="title"><strong>Table 3.18. Additional OCI artifact configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262669837328" scope="col">Field</th><th align="left" valign="top" id="idm46262669836240" scope="col">Type</th><th align="left" valign="top" id="idm46262669835152" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262669837328">
							<p>
								<span class="strong strong"><strong>ALLOWED_OCI_ARTIFACT_TYPES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669836240">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262669835152">
							<p>
								The set of allowed OCI artifact mimetypes and the associated layer types.
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="configuring-oci-artifact-types"><div class="titlepage"><div><div><h3 class="title">3.20.1. Configuring additional artifact types</h3></div></div></div><p>
					Other OCI artifact types that are not supported by default can be added to your Red Hat Quay deployment by using the <code class="literal">ALLOWED_OCI_ARTIFACT_TYPES</code> configuration field.
				</p><p>
					Use the following reference to add additional OCI artifact types:
				</p><div class="formalpara"><p class="title"><strong>OCI artifact types configuration</strong></p><p>
						
<pre class="programlisting language-yaml">FEATURE_GENERAL_OCI_SUPPORT: true
ALLOWED_OCI_ARTIFACT_TYPES:
  &lt;oci config type 1&gt;:
  - &lt;oci layer type 1&gt;
  - &lt;oci layer type 2&gt;

  &lt;oci config type 2&gt;:
  - &lt;oci layer type 3&gt;
  - &lt;oci layer type 4&gt;</pre>
					</p></div><p>
					For example, you can add Singularity (SIF) support by adding the following to your <code class="literal">config.yaml</code> file:
				</p><div class="formalpara"><p class="title"><strong>Example OCI artifact type configuration</strong></p><p>
						
<pre class="programlisting language-yaml">ALLOWED_OCI_ARTIFACT_TYPES:
  application/vnd.oci.image.config.v1+json:
  - application/vnd.dev.cosign.simplesigning.v1+json
  application/vnd.cncf.helm.config.v1+json:
  - application/tar+gzip
  application/vnd.sylabs.sif.config.v1+json:
  - application/vnd.sylabs.sif.layer.v1+tar</pre>
					</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When adding OCI artifact types that are not configured by default, Red Hat Quay administrators will also need to manually add support for cosign and Helm if desired.
					</p></div></div></section></section><section class="section" id="unknown-artifacts"><div class="titlepage"><div><div><h2 class="title">3.21. Unknown media types</h2></div></div></div><div class="table" id="idm46262676016016"><p class="title"><strong>Table 3.19. Unknown media types configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262676010240" scope="col">Field</th><th align="left" valign="top" id="idm46262676009152" scope="col">Type</th><th align="left" valign="top" id="idm46262676008064" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262676010240">
							<p>
								<span class="strong strong"><strong>IGNORE_UNKNOWN_MEDIATYPES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262676009152">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262676008064">
							<p>
								When enabled, allows a container registry platform to disregard specific restrictions on supported artifact types and accept any unrecognized or unknown media types.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="configuring-unknown-media-types"><div class="titlepage"><div><div><h3 class="title">3.21.1. Configuring unknown media types</h3></div></div></div><p>
					The following YAML is the example configuration when enabling unknown or unrecognized media types.
				</p><div class="formalpara"><p class="title"><strong>Unknown media types YAML configuration</strong></p><p>
						
<pre class="programlisting language-yaml">IGNORE_UNKNOWN_MEDIATYPES: true</pre>
					</p></div></section></section><section class="section" id="config-fields-actionlog"><div class="titlepage"><div><div><h2 class="title">3.22. Action log configuration fields</h2></div></div></div><section class="section" id="action_log_storage_configuration"><div class="titlepage"><div><div><h3 class="title">3.22.1. Action log storage configuration</h3></div></div></div><div class="table" id="idm46262674218624"><p class="title"><strong>Table 3.20. Action log storage configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670837152" scope="col">Field</th><th align="left" valign="top" id="idm46262670836064" scope="col">Type</th><th align="left" valign="top" id="idm46262670834976" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670837152">
								<p>
									<span class="strong strong"><strong>FEATURE_LOG_EXPORT</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670836064">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670834976">
								<p>
									Whether to allow exporting of action logs.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670837152">
								<p>
									<span class="strong strong"><strong>LOGS_MODEL</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670836064">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670834976">
								<p>
									Specifies the preferred method for handling log data.<br/><br/><span class="strong strong"><strong>Values:</strong></span> One of <code class="literal">database</code>, <code class="literal">transition_reads_both_writes_es</code>, <code class="literal">elasticsearch</code>, <code class="literal">splunk</code><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">database</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670837152">
								<p>
									<span class="strong strong"><strong>LOGS_MODEL_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670836064">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670834976">
								<p>
									Logs model config for action logs.
								</p>
								</td></tr></tbody></table></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>LOGS_MODEL_CONFIG</strong></span> [object]: Logs model config for action logs.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>elasticsearch_config</strong></span> [object]: Elasticsearch cluster configuration.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>access_key</strong></span> [string]: Elasticsearch user (or IAM key for AWS ES).
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">some_string</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>host</strong></span> [string]: Elasticsearch cluster endpoint.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">host.elasticsearch.example</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>index_prefix</strong></span> [string]: Elasticsearch’s index prefix.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">logentry_</code>
												</li></ul></div></li><li class="listitem">
											<span class="strong strong"><strong>index_settings</strong></span> [object]: Elasticsearch’s index settings
										</li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>use_ssl</strong></span> [boolean]: Use ssl for Elasticsearch. Defaults to <code class="literal">True</code>.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">True</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>secret_key</strong></span> [string]: Elasticsearch password (or IAM secret for AWS ES).
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">some_secret_string</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>aws_region</strong></span> [string]: Amazon web service region.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">us-east-1</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>port</strong></span> [number]: Elasticsearch cluster endpoint port.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">1234</code>
												</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>kinesis_stream_config</strong></span> [object]: AWS Kinesis Stream configuration.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>aws_secret_key</strong></span> [string]: AWS secret key.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">some_secret_key</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>stream_name</strong></span> [string]: Kinesis stream to send action logs to.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">logentry-kinesis-stream</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>aws_access_key</strong></span> [string]: AWS access key.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">some_access_key</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>retries</strong></span> [number]: Max number of attempts made on a single request.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">5</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>read_timeout</strong></span> [number]: Number of seconds before timeout when reading from a connection.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">5</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>max_pool_connections</strong></span> [number]: The maximum number of connections to keep in a connection pool.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">10</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>aws_region</strong></span> [string]: AWS region.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">us-east-1</code>
												</li></ul></div></li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>connect_timeout</strong></span> [number]: Number of seconds before timeout when attempting to make a connection.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">5</code>
												</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>producer</strong></span> [string]: Logs producer if logging to Elasticsearch.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											<span class="strong strong"><strong>enum</strong></span>: kafka, elasticsearch, kinesis_stream
										</li><li class="listitem">
											<span class="strong strong"><strong>Example</strong></span>: <code class="literal">kafka</code>
										</li></ul></div></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>kafka_config</strong></span> [object]: Kafka cluster configuration.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>topic</strong></span> [string]: Kafka topic to publish log entries to.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">logentry</code>
												</li></ul></div></li><li class="listitem">
											<span class="strong strong"><strong>bootstrap_servers</strong></span> [array]: List of Kafka brokers to bootstrap the client from.
										</li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>max_block_seconds</strong></span> [number]: Max number of seconds to block during a <code class="literal">send()</code>, either because the buffer is full or metadata unavailable.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>Example</strong></span>: <code class="literal">10</code>
												</li></ul></div></li></ul></div></li><li class="listitem">
									<span class="strong strong"><strong>producer</strong></span> [string]: <code class="literal">splunk</code>
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>splunk_config</strong></span> [object]: Logs model configuration for Splunk action logs or the Splunk cluster configuration.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											<span class="strong strong"><strong>host</strong></span> [string]: Splunk cluster endpoint.
										</li><li class="listitem">
											<span class="strong strong"><strong>port</strong></span> [integer]: Splunk management cluster endpoint port.
										</li><li class="listitem">
											<span class="strong strong"><strong>bearer_token</strong></span> [string]: The bearer token for Splunk.
										</li><li class="listitem">
											<span class="strong strong"><strong>verify_ssl</strong></span> [boolean]: Enable (<code class="literal">True</code>) or disable (<code class="literal">False</code>) TLS/SSL verification for HTTPS connections.
										</li><li class="listitem">
											<span class="strong strong"><strong>index_prefix</strong></span> [string]: Splunk’s index prefix.
										</li><li class="listitem">
											<span class="strong strong"><strong>ssl_ca_path</strong></span> [string]: The relative container path to a single <code class="literal">.pem</code> file containing a certificate authority (CA) for SSL validation.
										</li></ul></div></li></ul></div></li></ul></div></section><section class="section" id="action_log_rotation_and_archiving_configuration"><div class="titlepage"><div><div><h3 class="title">3.22.2. Action log rotation and archiving configuration</h3></div></div></div><div class="table" id="idm46262673904528"><p class="title"><strong>Table 3.21. Action log rotation and archiving configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262669559376" scope="col">Field</th><th align="left" valign="top" id="idm46262669558288" scope="col">Type</th><th align="left" valign="top" id="idm46262669557200" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262669559376">
								<p>
									<span class="strong strong"><strong>FEATURE_ACTION_LOG_ROTATION</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669558288">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262669557200">
								<p>
									Enabling log rotation and archival will move all logs older than 30 days to storage.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669559376">
								<p>
									<span class="strong strong"><strong>ACTION_LOG_ARCHIVE_LOCATION</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669558288">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669557200">
								<p>
									If action log archiving is enabled, the storage engine in which to place the archived data.<br/><br/><span class="strong strong"><strong>Example:</strong></span>: <code class="literal">s3_us_east</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669559376">
								<p>
									<span class="strong strong"><strong>ACTION_LOG_ARCHIVE_PATH</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669558288">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669557200">
								<p>
									If action log archiving is enabled, the path in storage in which to place the archived data.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">archives/actionlogs</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669559376">
								<p>
									<span class="strong strong"><strong>ACTION_LOG_ROTATION_THRESHOLD</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669558288">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669557200">
								<p>
									The time interval after which to rotate logs.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">30d</code>
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="action_log_audit_configuration"><div class="titlepage"><div><div><h3 class="title">3.22.3. Action log audit configuration</h3></div></div></div><div class="table" id="idm46262674048432"><p class="title"><strong>Table 3.22. Audit logs configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 40%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671790912" scope="col">Field</th><th align="left" valign="top" id="idm46262671789824" scope="col">Type</th><th align="left" valign="top" id="idm46262671788736" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671790912">
								<p>
									<span class="strong strong"><strong>ACTION_LOG_AUDIT_LOGINS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671789824">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262671788736">
								<p>
									When set to <code class="literal">True</code>, tracks advanced events such as logging into, and out of, the UI, and logging in using Docker for regular users, robot accounts, and for application-specific token accounts.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
								</p>
								</td></tr></tbody></table></div></div></section></section><section class="section" id="config-fields-build-logs"><div class="titlepage"><div><div><h2 class="title">3.23. Build logs configuration fields</h2></div></div></div><div class="table" id="idm46262671776688"><p class="title"><strong>Table 3.23. Build logs configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671770912" scope="col">Field</th><th align="left" valign="top" id="idm46262671769824" scope="col">Type</th><th align="left" valign="top" id="idm46262674179920" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671770912">
							<p>
								<span class="strong strong"><strong>FEATURE_READER_BUILD_LOGS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671769824">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674179920">
							<p>
								If set to true, build logs can be read by those with <code class="literal">read</code> access to the repository, rather than only <code class="literal">write</code> access or <code class="literal">admin</code> access.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671770912">
							<p>
								<span class="strong strong"><strong>LOG_ARCHIVE_LOCATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671769824">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674179920">
							<p>
								The storage location, defined in <code class="literal">DISTRIBUTED_STORAGE_CONFIG</code>, in which to place the archived build logs.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">s3_us_east</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671770912">
							<p>
								<span class="strong strong"><strong>LOG_ARCHIVE_PATH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671769824">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674179920">
							<p>
								The path under the configured storage engine in which to place the archived build logs in <code class="literal">.JSON</code> format.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">archives/buildlogs</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-dockerfile-build"><div class="titlepage"><div><div><h2 class="title">3.24. Dockerfile build triggers fields</h2></div></div></div><div class="table" id="idm46262676053600"><p class="title"><strong>Table 3.24. Dockerfile build support</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262676047824" scope="col">Field</th><th align="left" valign="top" id="idm46262676046736" scope="col">Type</th><th align="left" valign="top" id="idm46262676045648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262676047824">
							<p>
								<span class="strong strong"><strong>FEATURE_BUILD_SUPPORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262676046736">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262676045648">
							<p>
								Whether to support Dockerfile build. <br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262676047824">
							<p>
								<span class="strong strong"><strong>SUCCESSIVE_TRIGGER_FAILURE_DISABLE_THRESHOLD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262676046736">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262676045648">
							<p>
								If not set to <code class="literal">None</code>, the number of successive failures that can occur before a build trigger is automatically disabled.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">100</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262676047824">
							<p>
								<span class="strong strong"><strong>SUCCESSIVE_TRIGGER_INTERNAL_ERROR_DISABLE_THRESHOLD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262676046736">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262676045648">
							<p>
								If not set to <code class="literal">None</code>, the number of successive internal errors that can occur before a build trigger is automatically disabled<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">5</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="github_build_triggers"><div class="titlepage"><div><div><h3 class="title">3.24.1. GitHub build triggers</h3></div></div></div><div class="table" id="idm46262672832960"><p class="title"><strong>Table 3.25. GitHub build triggers</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670912608" scope="col">Field</th><th align="left" valign="top" id="idm46262670911520" scope="col">Type</th><th align="left" valign="top" id="idm46262670910432" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									<span class="strong strong"><strong>FEATURE_GITHUB_BUILD</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									Whether to support GitHub build triggers.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									 
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									<span class="strong strong"><strong>GITHUB_TRIGGER_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									Configuration for using GitHub Enterprise for build triggers.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									   <span class="strong strong"><strong>.GITHUB_ENDPOINT</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									The endpoint for GitHub Enterprise.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal"><a class="link" href="https://github.com/">https://github.com/</a></code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									   <span class="strong strong"><strong>.API_ENDPOINT</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									The endpoint of the GitHub Enterprise API to use. Must be overridden for <code class="literal">github.com</code>.<br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="https://api.github.com/">https://api.github.com/</a></code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									   <span class="strong strong"><strong>.CLIENT_ID</strong></span> <br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									The registered client ID for this Red Hat Quay instance; this cannot be shared with <code class="literal">GITHUB_LOGIN_CONFIG</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670912608">
								<p>
									   <span class="strong strong"><strong>.CLIENT_SECRET</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262670911520">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670910432">
								<p>
									The registered client secret for this Red Hat Quay instance.
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="bitbucket_build_triggers"><div class="titlepage"><div><div><h3 class="title">3.24.2. BitBucket build triggers</h3></div></div></div><div class="table" id="idm46262674127488"><p class="title"><strong>Table 3.26. BitBucket build triggers</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262674121712" scope="col">Field</th><th align="left" valign="top" id="idm46262674120624" scope="col">Type</th><th align="left" valign="top" id="idm46262674119536" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262674121712">
								<p>
									<span class="strong strong"><strong>FEATURE_BITBUCKET_BUILD</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262674120624">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262674119536">
								<p>
									Whether to support Bitbucket build triggers.<br/><br/><span class="strong strong"><strong>Default:</strong></span> False
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262674121712">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262674120624">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262674119536">
								<p>
									 
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262674121712">
								<p>
									<span class="strong strong"><strong>BITBUCKET_TRIGGER_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262674120624">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262674119536">
								<p>
									Configuration for using BitBucket for build triggers.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262674121712">
								<p>
									   <span class="strong strong"><strong>.CONSUMER_KEY</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262674120624">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262674119536">
								<p>
									The registered consumer key (client ID) for this Red Hat Quay instance.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262674121712">
								<p>
									   <span class="strong strong"><strong>.CONSUMER_SECRET</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262674120624">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262674119536">
								<p>
									The registered consumer secret (client secret) for this Red Hat Quay instance.
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="gitlab_build_triggers"><div class="titlepage"><div><div><h3 class="title">3.24.3. GitLab build triggers</h3></div></div></div><div class="table" id="idm46262672017584"><p class="title"><strong>Table 3.27. GitLab build triggers</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672011824" scope="col">Field</th><th align="left" valign="top" id="idm46262672010736" scope="col">Type</th><th align="left" valign="top" id="idm46262672009648" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									<span class="strong strong"><strong>FEATURE_GITLAB_BUILD</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									Whether to support GitLab build triggers.<br/><br/><span class="strong strong"><strong>Default:</strong></span> False
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									 
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									 
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									<span class="strong strong"><strong>GITLAB_TRIGGER_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									Configuration for using Gitlab for build triggers.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									   <span class="strong strong"><strong>.GITLAB_ENDPOINT</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									The endpoint at which Gitlab Enterprise is running.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									   <span class="strong strong"><strong>.CLIENT_ID</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									The registered client ID for this Red Hat Quay instance.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672011824">
								<p>
									   <span class="strong strong"><strong>.CLIENT_SECRET</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262672010736">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672009648">
								<p>
									The registered client secret for this Red Hat Quay instance.
								</p>
								</td></tr></tbody></table></div></div></section></section><section class="section" id="config-fields-build-manager"><div class="titlepage"><div><div><h2 class="title">3.25. Build manager configuration fields</h2></div></div></div><div class="table" id="idm46262672802880"><p class="title"><strong>Table 3.28. Build manager configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671382656" scope="col">Field</th><th align="left" valign="top" id="idm46262671381568" scope="col">Type</th><th align="left" valign="top" id="idm46262671380480" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>ALLOWED_WORKER_COUNT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines how many Build Workers are instantiated per Red Hat Quay pod. Typically set to <code class="literal">1</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>ORCHESTRATOR_PREFIX</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines a unique prefix to be added to all Redis keys. This is useful to isolate Orchestrator values from other Redis keys.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>REDIS_HOST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								The hostname for your Redis service.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>REDIS_PASSWORD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								The password to authenticate into your Redis service.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>REDIS_SSL</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines whether or not your Redis connection uses SSL/TLS.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>REDIS_SKIP_KEYSPACE_EVENT_SETUP</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								By default, Red Hat Quay does not set up the keyspace events required for key events at runtime. To do so, set <code class="literal">REDIS_SKIP_KEYSPACE_EVENT_SETUP</code> to <code class="literal">false</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>EXECUTOR</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Starts a definition of an Executor of this type. Valid values are <code class="literal">kubernetes</code> and <code class="literal">ec2</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>BUILDER_NAMESPACE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Kubernetes namespace where Red Hat Quay Builds will take place.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>K8S_API_SERVER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Hostname for API Server of the OpenShift Container Platform cluster where Builds will take place.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>K8S_API_TLS_CA</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								The filepath in the <code class="literal">Quay</code> container of the Build cluster’s CA certificate for the <code class="literal">Quay</code> application to trust when making API calls.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>KUBERNETES_DISTRIBUTION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Indicates which type of Kubernetes is being used. Valid values are <code class="literal">openshift</code> and <code class="literal">k8s</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>CONTAINER_</strong></span>*
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Define the resource requests and limits for each <code class="literal">build</code> pod.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>NODE_SELECTOR_</strong></span>*
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines the node selector label name-value pair where <code class="literal">build</code> Pods should be scheduled.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>CONTAINER_RUNTIME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Specifies whether the Builder should run <code class="literal">docker</code> or <code class="literal">podman</code>. Customers using Red Hat’s <code class="literal">quay-builder</code> image should set this to <code class="literal">podman</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>SERVICE_ACCOUNT_NAME/SERVICE_ACCOUNT_TOKEN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines the Service Account name or token that will be used by <code class="literal">build</code> pods.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>QUAY_USERNAME/QUAY_PASSWORD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Defines the registry credentials needed to pull the Red Hat Quay build worker image that is specified in the <code class="literal">WORKER_IMAGE</code> field. Customers should provide a Red Hat Service Account credential as defined in the section "Creating Registry Service Accounts" against registry.redhat.io in the article at <a class="link" href="https://access.redhat.com/RegistryAuthentication">https://access.redhat.com/RegistryAuthentication</a>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>WORKER_IMAGE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Image reference for the Red Hat Quay Builder image. registry.redhat.io/quay/quay-builder
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>WORKER_TAG</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Tag for the Builder image desired. The latest version is 3.9.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>BUILDER_VM_CONTAINER_IMAGE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								The full reference to the container image holding the internal VM needed to run each Red Hat Quay Build. (<code class="literal">registry.redhat.io/quay/quay-builder-qemu-rhcos:3.9</code>).
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>SETUP_TIME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								Specifies the number of seconds at which a Build times out if it has not yet registered itself with the Build Manager. Defaults at <code class="literal">500</code> seconds. Builds that time out are attempted to be restarted three times. If the Build does not register itself after three attempts it is considered failed.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>MINIMUM_RETRY_THRESHOLD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								This setting is used with multiple Executors. It indicates how many retries are attempted to start a Build before a different Executor is chosen. Setting to <code class="literal">0</code> means there are no restrictions on how many tries the build job needs to have. This value should be kept intentionally small (three or less) to ensure failovers happen quickly during infrastructure failures. You must specify a value for this setting. For example, <code class="literal">Kubernetes</code> is set as the first executor and <code class="literal">EC2</code> as the second executor. If you want the last attempt to run a job to always be executed on EC2 and not Kubernetes, you can set the Kubernetes executor’s <code class="literal">MINIMUM_RETRY_THRESHOLD</code> to <code class="literal">1</code> and EC2’s <code class="literal">MINIMUM_RETRY_THRESHOLD</code> to <code class="literal">0</code> (defaults to <code class="literal">0</code> if not set). In this case, the Kubernetes' <code class="literal">MINIMUM_RETRY_THRESHOLD</code> <span class="strong strong"><strong>retries_remaining(1)</strong></span> would evaluate to <code class="literal">False</code>, therefore falling back to the second executor configured.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671382656">
							<p>
								<span class="strong strong"><strong>SSH_AUTHORIZED_KEYS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671381568">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671380480">
							<p>
								List of SSH keys to bootstrap in the <code class="literal">ignition</code> config. This allows other keys to be used to SSH into the EC2 instance or QEMU virtual machine (VM).
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-oauth"><div class="titlepage"><div><div><h2 class="title">3.26. OAuth configuration fields</h2></div></div></div><div class="table" id="idm46262673076848"><p class="title"><strong>Table 3.29. OAuth fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673071088" scope="col">Field</th><th align="left" valign="top" id="idm46262673070000" scope="col">Type</th><th align="left" valign="top" id="idm46262673068912" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673071088">
							<p>
								<span class="strong strong"><strong>DIRECT_OAUTH_CLIENTID_WHITELIST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673070000">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262673068912">
							<p>
								A list of client IDs for <span class="strong strong"><strong>Quay-managed</strong></span> applications that are allowed to perform direct OAuth approval without user approval.
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="github-oauth-config-fields"><div class="titlepage"><div><div><h3 class="title">3.26.1. GitHub OAuth configuration fields</h3></div></div></div><div class="table" id="idm46262673058528"><p class="title"><strong>Table 3.30. GitHub OAuth fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673052768" scope="col">Field</th><th align="left" valign="top" id="idm46262673051680" scope="col">Type</th><th align="left" valign="top" id="idm46262673615120" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									<span class="strong strong"><strong>FEATURE_GITHUB_LOGIN</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									Whether GitHub login is supported<br/><br/> **Default: <code class="literal">False</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									<span class="strong strong"><strong>GITHUB_LOGIN_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									Configuration for using GitHub (Enterprise) as an external login provider.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.ALLOWED_ORGANIZATIONS</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									Array of String
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									The names of the GitHub (Enterprise) organizations whitelisted to work with the ORG_RESTRICT option.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.API_ENDPOINT</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									The endpoint of the GitHub (Enterprise) API to use. Must be overridden for github.com<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal"><a class="link" href="https://api.github.com/">https://api.github.com/</a></code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.CLIENT_ID</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									The registered client ID for this Red Hat Quay instance; cannot be shared with <code class="literal">GITHUB_TRIGGER_CONFIG</code>.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">0e8dbe15c4c7630b6780</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.CLIENT_SECRET</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									The registered client secret for this Red Hat Quay instance.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">e4a58ddd3d7408b7aec109e85564a0d153d3e846</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.GITHUB_ENDPOINT</strong></span> <br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									The endpoint for GitHub (Enterprise).<br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="https://github.com/">https://github.com/</a></code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673052768">
								<p>
									   <span class="strong strong"><strong>.ORG_RESTRICT</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673051680">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262673615120">
								<p>
									If true, only users within the organization whitelist can login using this provider.
								</p>
								</td></tr></tbody></table></div></div></section><section class="section" id="google-oauth-config-fields"><div class="titlepage"><div><div><h3 class="title">3.26.2. Google OAuth configuration fields</h3></div></div></div><div class="table" id="idm46262668655488"><p class="title"><strong>Table 3.31. Google OAuth fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262668649728" scope="col">Field</th><th align="left" valign="top" id="idm46262668648640" scope="col">Type</th><th align="left" valign="top" id="idm46262668647552" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262668649728">
								<p>
									<span class="strong strong"><strong>FEATURE_GOOGLE_LOGIN</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262668648640">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262668647552">
								<p>
									Whether Google login is supported.<br/><br/> **Default: <code class="literal">False</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262668649728">
								<p>
									<span class="strong strong"><strong>GOOGLE_LOGIN_CONFIG</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262668648640">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262668647552">
								<p>
									Configuration for using Google for external authentication.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262668649728">
								<p>
									   <span class="strong strong"><strong>.CLIENT_ID</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262668648640">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262668647552">
								<p>
									The registered client ID for this Red Hat Quay instance.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">0e8dbe15c4c7630b6780</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262668649728">
								<p>
									   <span class="strong strong"><strong>.CLIENT_SECRET</strong></span><br/>    (Required)
								</p>
								</td><td align="left" valign="top" headers="idm46262668648640">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262668647552">
								<p>
									The registered client secret for this Red Hat Quay instance.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">e4a58ddd3d7408b7aec109e85564a0d153d3e846</code>
								</p>
								</td></tr></tbody></table></div></div></section></section><section class="section" id="oidc-config-fields"><div class="titlepage"><div><div><h2 class="title">3.27. OIDC configuration fields</h2></div></div></div><div class="table" id="idm46262673957168"><p class="title"><strong>Table 3.32. OIDC fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><tbody><tr><td align="left" valign="top">
							<p>
								Field
							</p>
							</td><td align="left" valign="top">
							<p>
								Type
							</p>
							</td><td align="left" valign="top">
							<p>
								Description
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>&lt;string&gt;_LOGIN_CONFIG</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The parent key that holds the OIDC configuration settings. Typically the name of the OIDC provider, for example, <code class="literal">AZURE_LOGIN_CONFIG</code>, however any arbitrary string is accepted.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.CLIENT_ID</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The registered client ID for this Red Hat Quay instance.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">0e8dbe15c4c7630b6780</code>
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.CLIENT_SECRET</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The registered client secret for this Red Hat Quay instance.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">e4a58ddd3d7408b7aec109e85564a0d153d3e846</code>
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.DEBUGLOG</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top">
							<p>
								Whether to enable debugging.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.LOGIN_BINDING_FIELD</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								Used when the internal authorization is set to LDAP. Red Hat Quay reads this parameter and tries to search through the LDAP tree for the user with this username. If it exists, it automatically creates a link to that LDAP account.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.LOGIN_SCOPES</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								Object
							</p>
							</td><td align="left" valign="top">
							<p>
								Adds additional scopes that Red Hat Quay uses to communicate with the OIDC provider.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.OIDC_ENDPOINT_CUSTOM_PARAMS</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								Support for custom query parameters on OIDC endpoints. The following endpoints are supported: <code class="literal">authorization_endpoint</code>, <code class="literal">token_endpoint</code>, and <code class="literal">user_endpoint</code>.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.OIDC_ISSUER</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								Allows the user to define the issuer to verify. For example, JWT tokens container a parameter known as <code class="literal">iss</code> which defines who issued the token. By default, this is read from the <code class="literal">.well-know/openid/configuration</code> endpoint, which is exposed by every OIDC provider. If this verification fails, there is no login.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.OIDC_SERVER</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The address of the OIDC server that is being used for authentication.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">https://sts.windows.net/6c878…​/</code>
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.PREFERRED_USERNAME_CLAIM_NAME</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								Sets the preferred username to a parameter from the token.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.SERVICE_ICON</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								Changes the icon on the login screen.
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.SERVICE_NAME</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The name of the service that is being authenticated.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">Azure AD</code>
							</p>
							</td></tr><tr><td align="left" valign="top">
							<p>
								<span class="strong strong"><strong>.VERIFIED_EMAIL_CLAIM_NAME</strong></span>
							</p>
							</td><td align="left" valign="top">
							<p>
								String
							</p>
							</td><td align="left" valign="top">
							<p>
								The name of the claim that is used to verify the email address of the user.
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="oidc-config"><div class="titlepage"><div><div><h3 class="title">3.27.1. OIDC configuration</h3></div></div></div><p>
					The following example shows a sample OIDC configuration.
				</p><div class="formalpara"><p class="title"><strong>Example OIDC configuration</strong></p><p>
						
<pre class="programlisting language-yaml">AZURE_LOGIN_CONFIG:
    CLIENT_ID: &lt;client_id&gt;
    CLIENT_SECRET: &lt;client_secret&gt;
    OIDC_SERVER: &lt;oidc_server_address_&gt;
    DEBUGGING: true
    SERVICE_NAME: Azure AD
    VERIFIED_EMAIL_CLAIM_NAME: &lt;verified_email&gt;
    OIDC_ENDPOINT_CUSTOM_PARAMS":
                "authorization_endpoint":
                    "some": "param",</pre>
					</p></div></section></section><section class="section" id="config-fields-nested-repositories"><div class="titlepage"><div><div><h2 class="title">3.28. Nested repositories configuration fields</h2></div></div></div><p>
				Support for nested repository path names has been added under the <code class="literal">FEATURE_EXTENDED_REPOSITORY_NAMES</code> property. This optional configuration is added to the config.yaml by default. Enablement allows the use of <code class="literal">/</code> in repository names.
			</p><div class="table" id="idm46262673041424"><p class="title"><strong>Table 3.33. OCI and nested repositories configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673035632" scope="col">Field</th><th align="left" valign="top" id="idm46262673034544" scope="col">Type</th><th align="left" valign="top" id="idm46262673033456" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673035632">
							<p>
								<span class="strong strong"><strong>FEATURE_EXTENDED_REPOSITORY_NAMES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673034544">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262673033456">
							<p>
								Enable support for nested repositories<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>OCI and nested repositories configuration example</strong></p><p>
					
<pre class="programlisting language-yaml">FEATURE_EXTENDED_REPOSITORY_NAMES: true</pre>
				</p></div></section><section class="section" id="config-fields-mail"><div class="titlepage"><div><div><h2 class="title">3.29. Mail configuration fields</h2></div></div></div><div class="table" id="idm46262673020000"><p class="title"><strong>Table 3.34. Mail configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671142144" scope="col">Field</th><th align="left" valign="top" id="idm46262671141056" scope="col">Type</th><th align="left" valign="top" id="idm46262671139968" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>FEATURE_MAILING</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								Whether emails are enabled<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_DEFAULT_SENDER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								If specified, the e-mail address used as the <code class="literal">from</code> when Red Hat Quay sends e-mails. If none, defaults to <code class="literal">support@quay.io</code><br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">support@example.com</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_PASSWORD</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								The SMTP password to use when sending e-mails
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_PORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								The SMTP port to use. If not specified, defaults to 587.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_SERVER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								The SMTP server to use for sending e-mails. Only required if FEATURE_MAILING is set to true.<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">smtp.example.com</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_USERNAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								The SMTP username to use when sending e-mails
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671142144">
							<p>
								<span class="strong strong"><strong>MAIL_USE_TLS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671141056">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671139968">
							<p>
								If specified, whether to use TLS for sending e-mails<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-user"><div class="titlepage"><div><div><h2 class="title">3.30. User configuration fields</h2></div></div></div><div class="table" id="idm46262673080208"><p class="title"><strong>Table 3.35. User configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672488032" scope="col">Field</th><th align="left" valign="top" id="idm46262672486944" scope="col">Type</th><th align="left" valign="top" id="idm46262672485856" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_SUPER_USERS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Whether superusers are supported<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USER_CREATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Whether users can be created (by non-superusers)<br/><br/> <span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USER_LAST_ACCESSED</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Whether to record the last time a user was accessed<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USER_LOG_ACCESS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								If set to true, users will have access to audit logs for their namespace<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USER_METADATA</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Whether to collect and support user metadata<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USERNAME_CONFIRMATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								If set to true, users can confirm and modify their initial usernames when logging in via OpenID Connect (OIDC) or a non-database internal authentication provider like LDAP. <br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">true</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_USER_RENAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								If set to true, users can rename their own namespace<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_INVITE_ONLY_USER_CREATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Whether users being created must be invited by another user<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FRESH_LOGIN_TIMEOUT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								The time after which a fresh login requires users to re-enter their password<br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal">5m</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>USERFILES_LOCATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								ID of the storage engine in which to place user-uploaded files<br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal">s3_us_east</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>USERFILES_PATH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Path under storage in which to place user-uploaded files<br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal">userfiles</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>USER_RECOVERY_TOKEN_LIFETIME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								The length of time a token for recovering a user accounts is valid<br/><br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^[0-9]+(w|m|d|h|s)$</code><br/><span class="strong strong"><strong>Default</strong></span>: <code class="literal">30m</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_SUPERUSERS_FULL_ACCESS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								Grants superusers the ability to read, write, and delete content from other repositories in namespaces that they do not own or have explicit permissions for.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>FEATURE_RESTRICTED_USERS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								When set with <code class="literal">RESTRICTED_USERS_WHITELIST</code>, restricted users cannot create organizations or content in their own namespace. Normal permissions apply for an organization’s membership, for example, a restricted user will still have normal permissions in organizations based on the teams that they are members of.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>RESTRICTED_USERS_WHITELIST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								When set with <code class="literal">FEATURE_RESTRICTED_USERS: true</code>, specific users are excluded from the <code class="literal">FEATURE_RESTRICTED_USERS</code> setting.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672488032">
							<p>
								<span class="strong strong"><strong>GLOBAL_READONLY_SUPER_USERS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672486944">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262672485856">
							<p>
								When set, grants users of this list read access to all repositories, regardless of whether they are public repositories.
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="user-config-field-reference"><div class="titlepage"><div><div><h3 class="title">3.30.1. User configuration fields references</h3></div></div></div><p>
					Use the following references to update your <code class="literal">config.yaml</code> file with the desired configuration field.
				</p><section class="section" id="configuring-superusers-full-access"><div class="titlepage"><div><div><h4 class="title">3.30.1.1. FEATURE_SUPERUSERS_FULL_ACCESS configuration reference</h4></div></div></div><pre class="programlisting language-yaml">---
SUPER_USERS:
- quayadmin
FEATURE_SUPERUSERS_FULL_ACCESS: True
---</pre></section><section class="section" id="configuring-global-readonly-super-users"><div class="titlepage"><div><div><h4 class="title">3.30.1.2. GLOBAL_READONLY_SUPER_USERS configuration reference</h4></div></div></div><pre class="programlisting language-yaml">---
GLOBAL_READONLY_SUPER_USERS:
      - user1
---</pre></section><section class="section" id="configuring-feature-restricted-users"><div class="titlepage"><div><div><h4 class="title">3.30.1.3. FEATURE_RESTRICTED_USERS configuration reference</h4></div></div></div><pre class="programlisting language-yaml">---
AUTHENTICATION_TYPE: Database
---
---
FEATURE_RESTRICTED_USERS: true
---</pre></section><section class="section" id="configuring-restricted-users-whitelist"><div class="titlepage"><div><div><h4 class="title">3.30.1.4. RESTRICTED_USERS_WHITELIST configuration reference</h4></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">FEATURE_RESTRICTED_USERS</code> is set to <code class="literal">true</code> in your <code class="literal">config.yaml</code> file.
							</li></ul></div><pre class="programlisting language-yaml">---
AUTHENTICATION_TYPE: Database
---
---
FEATURE_RESTRICTED_USERS: true
RESTRICTED_USERS_WHITELIST:
      - user1
---</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When this field is set, whitelisted users can create organizations, or read or write content from the repository even if <code class="literal">FEATURE_RESTRICTED_USERS</code> is set to <code class="literal">true</code>. Other users, for example, <code class="literal">user2</code>, <code class="literal">user3</code>, and <code class="literal">user4</code> are restricted from creating organizations, reading, or writing content
						</p></div></div></section></section></section><section class="section" id="config-fields-recaptcha"><div class="titlepage"><div><div><h2 class="title">3.31. Recaptcha configuration fields</h2></div></div></div><div class="table" id="idm46262669604256"><p class="title"><strong>Table 3.36. Recaptcha configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262669598480" scope="col">Field</th><th align="left" valign="top" id="idm46262669597392" scope="col">Type</th><th align="left" valign="top" id="idm46262669596304" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262669598480">
							<p>
								<span class="strong strong"><strong>FEATURE_RECAPTCHA</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669597392">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262669596304">
							<p>
								Whether Recaptcha is necessary for user login and recovery<br/><br/> <span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669598480">
							<p>
								<span class="strong strong"><strong>RECAPTCHA_SECRET_KEY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669597392">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262669596304">
							<p>
								If recaptcha is enabled, the secret key for the Recaptcha service
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262669598480">
							<p>
								<span class="strong strong"><strong>RECAPTCHA_SITE_KEY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262669597392">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262669596304">
							<p>
								If recaptcha is enabled, the site key for the Recaptcha service
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-aci"><div class="titlepage"><div><div><h2 class="title">3.32. ACI configuration fields</h2></div></div></div><div class="table" id="idm46262670950544"><p class="title"><strong>Table 3.37. ACI configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670944768" scope="col">Field</th><th align="left" valign="top" id="idm46262670943680" scope="col">Type</th><th align="left" valign="top" id="idm46262670942592" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670944768">
							<p>
								<span class="strong strong"><strong>FEATURE_ACI_CONVERSION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670943680">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262670942592">
							<p>
								Whether to enable conversion to ACIs <br/> <br/><span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670944768">
							<p>
								<span class="strong strong"><strong>GPG2_PRIVATE_KEY_FILENAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670943680">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262670942592">
							<p>
								The filename of the private key used to decrypte ACIs
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670944768">
							<p>
								<span class="strong strong"><strong>GPG2_PRIVATE_KEY_NAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670943680">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262670942592">
							<p>
								The name of the private key used to sign ACIs
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670944768">
							<p>
								<span class="strong strong"><strong>GPG2_PUBLIC_KEY_FILENAME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670943680">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262670942592">
							<p>
								The filename of the public key used to encrypt ACIs
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-jwt"><div class="titlepage"><div><div><h2 class="title">3.33. JWT configuration fields</h2></div></div></div><div class="table" id="idm46262673552896"><p class="title"><strong>Table 3.38. JWT configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673547120" scope="col">Field</th><th align="left" valign="top" id="idm46262673546032" scope="col">Type</th><th align="left" valign="top" id="idm46262673544944" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673547120">
							<p>
								<span class="strong strong"><strong>JWT_AUTH_ISSUER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673546032">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262673544944">
							<p>
								The endpoint for JWT users<br/><br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^http(s)?://(.)+$</code><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="http://192.168.99.101:6060">http://192.168.99.101:6060</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262673547120">
							<p>
								<span class="strong strong"><strong>JWT_GETUSER_ENDPOINT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673546032">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262673544944">
							<p>
								The endpoint for JWT users<br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^http(s)?://(.)+$</code><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="http://192.168.99.101:6060">http://192.168.99.101:6060</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262673547120">
							<p>
								<span class="strong strong"><strong>JWT_QUERY_ENDPOINT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673546032">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262673544944">
							<p>
								The endpoint for JWT queries<br/><br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^http(s)?://(.)+$</code><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="http://192.168.99.101:6060">http://192.168.99.101:6060</a></code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262673547120">
							<p>
								<span class="strong strong"><strong>JWT_VERIFY_ENDPOINT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262673546032">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262673544944">
							<p>
								The endpoint for JWT verification<br/><br/><span class="strong strong"><strong>Pattern</strong></span>: <code class="literal">^http(s)?://(.)+$</code><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal"><a class="link" href="http://192.168.99.101:6060">http://192.168.99.101:6060</a></code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-app-tokens"><div class="titlepage"><div><div><h2 class="title">3.34. App tokens configuration fields</h2></div></div></div><div class="table" id="idm46262670379984"><p class="title"><strong>Table 3.39. App tokens configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670374208" scope="col">Field</th><th align="left" valign="top" id="idm46262670373120" scope="col">Type</th><th align="left" valign="top" id="idm46262670372032" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670374208">
							<p>
								<span class="strong strong"><strong>FEATURE_APP_SPECIFIC_TOKENS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670373120">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262670372032">
							<p>
								If enabled, users can create tokens for use by the Docker CLI<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670374208">
							<p>
								<span class="strong strong"><strong>APP_SPECIFIC_TOKEN_EXPIRATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670373120">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262670372032">
							<p>
								The expiration for external app tokens.<br/><br/><span class="strong strong"><strong>Default</strong></span> None<br/><span class="strong strong"><strong>Pattern:</strong></span> <code class="literal">^[0-9]+(w|m|d|h|s)$</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262670374208">
							<p>
								<span class="strong strong"><strong>EXPIRED_APP_SPECIFIC_TOKEN_GC</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670373120">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262670372032">
							<p>
								Duration of time expired external app tokens will remain before being garbage collected<br/><br/><span class="strong strong"><strong>Default:</strong></span> 1d
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-misc"><div class="titlepage"><div><div><h2 class="title">3.35. Miscellaneous configuration fields</h2></div></div></div><div class="table" id="idm46262674106240"><p class="title"><strong>Table 3.40. Miscellaneous configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262674100464" scope="col">Field</th><th align="left" valign="top" id="idm46262674099376" scope="col">Type</th><th align="left" valign="top" id="idm46262674098288" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>ALLOW_PULLS_WITHOUT_STRICT_LOGGING</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If true, pulls will still succeed even if the pull audit log entry cannot be written . This is useful if the database is in a read-only state and it is desired for pulls to continue during that time.<br/><br/> <span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>AVATAR_KIND</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The types of avatars to display, either generated inline (local) or Gravatar (gravatar)<br/><br/> <span class="strong strong"><strong>Values:</strong></span> local, gravatar
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>BROWSER_API_CALLS_XHR_ONLY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If enabled, only API calls marked as being made by an XHR will be allowed from browsers<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>DEFAULT_NAMESPACE_MAXIMUM_BUILD_COUNT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The default maximum number of builds that can be queued in a namespace.<br/><br/><span class="strong strong"><strong>Default:</strong></span> None
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>ENABLE_HEALTH_DEBUG_SECRET</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If specified, a secret that can be given to health endpoints to see full debug info when not authenticated as a superuser
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>EXTERNAL_TLS_TERMINATION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Set to <code class="literal">true</code> if TLS is supported, but terminated at a layer before Quay. Set to <code class="literal">false</code> when Quay is running with its own SSL certificates and receiving TLS traffic directly.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FRESH_LOGIN_TIMEOUT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The time after which a fresh login requires users to re-enter their password<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">5m</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>HEALTH_CHECKER</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The configured health check<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">('RDSAwareHealthCheck', {'access_key': 'foo', 'secret_key': 'bar'})</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>PROMETHEUS_NAMESPACE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The prefix applied to all exposed Prometheus metrics<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">quay</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>PUBLIC_NAMESPACES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If a namespace is defined in the public namespace list, then it will appear on <span class="strong strong"><strong>all</strong></span> users' repository list pages, regardless of whether the user is a member of the namespace. Typically, this is used by an enterprise customer in configuring a set of "well-known" namespaces.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>REGISTRY_STATE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The state of the registry<br/><br/><span class="strong strong"><strong>Values:</strong></span> <code class="literal">normal</code> or <code class="literal">read-only</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>SEARCH_MAX_RESULT_PAGE_COUNT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Maximum number of pages the user can paginate in search before they are limited<br/><br/><span class="strong strong"><strong>Default:</strong></span> 10
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>SEARCH_RESULTS_PER_PAGE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Number of results returned per page by search page<br/><br/><span class="strong strong"><strong>Default:</strong></span> 10
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>V2_PAGINATION_SIZE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The number of results returned per page in V2 registry APIs<br/><br/> <span class="strong strong"><strong>Default:</strong></span> 50
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>WEBHOOK_HOSTNAME_BLACKLIST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								The set of hostnames to disallow from webhooks when validating, beyond localhost
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>CREATE_PRIVATE_REPO_ON_PUSH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether new repositories created by push are set to private visibility<br/><br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>CREATE_NAMESPACE_ON_PUSH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether new push to a non-existent organization creates it<br/><br/><span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>NON_RATE_LIMITED_NAMESPACES</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If rate limiting has been enabled using <code class="literal">FEATURE_RATE_LIMITS</code>, you can override it for specific namespace that require unlimited access.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<a class="link" href="#reference-miscellaneous-v2-ui" title="3.37.1. v2 user interface configuration"><span class="strong strong"><strong>FEATURE_UI_V2</strong></span></a>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								When set, allows users to try the beta UI environment.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_REQUIRE_TEAM_INVITE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether to require invitations when adding a user to a team<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_REQUIRE_ENCRYPTED_BASIC_AUTH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether non-encrypted passwords (as opposed to encrypted tokens) can be used for basic auth<br/> <br/><span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_RATE_LIMITS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether to enable rate limits on API and registry endpoints. Setting FEATURE_RATE_LIMITS to <code class="literal">true</code> causes <code class="literal">nginx</code> to limit certain API calls to 30 per second. If that feature is not set, API calls are limited to 300 per second (effectively unlimited).<br/> <br/><span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_FIPS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If set to true, Red Hat Quay will run using FIPS-compliant hash functions<br/><br/> <span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_AGGREGATED_LOG_COUNT_RETRIEVAL</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether to allow retrieval of aggregated log counts<br/><br/> <span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_ANONYMOUS_ACCESS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether to allow anonymous users to browse and pull public repositories<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_DIRECT_LOGIN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether users can directly login to the UI<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_LIBRARY_SUPPORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether to allow for "namespace-less" repositories when pulling and pushing from Docker<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_PARTIAL_USER_AUTOCOMPLETE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If set to true, autocompletion will apply to partial usernames+ <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_PERMANENT_SESSIONS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								Whether sessions are permanent<br/> <br/><span class="strong strong"><strong>Default:</strong></span> True
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262674100464">
							<p>
								<span class="strong strong"><strong>FEATURE_PUBLIC_CATALOG</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262674099376">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262674098288">
							<p>
								If set to true, the <code class="literal">_catalog</code> endpoint returns public repositories. Otherwise, only private repositories can be returned.<br/> <br/><span class="strong strong"><strong>Default:</strong></span> False
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-legacy"><div class="titlepage"><div><div><h2 class="title">3.36. Legacy configuration fields</h2></div></div></div><p>
				The following fields are deprecated or obsolete.
			</p><div class="table" id="idm46262671712144"><p class="title"><strong>Table 3.41. Legacy configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671706368" scope="col">Field</th><th align="left" valign="top" id="idm46262671705280" scope="col">Type</th><th align="left" valign="top" id="idm46262671704192" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>FEATURE_BLACKLISTED_EMAILS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								If set to true, no new User accounts may be created if their email domain is blacklisted
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>BLACKLISTED_EMAIL_DOMAINS</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								The list of email-address domains that is used if FEATURE_BLACKLISTED_EMAILS is set to true<br/><br/><span class="strong strong"><strong>Example:</strong></span> <code class="literal">"example.com", "example.org"</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>BLACKLIST_V2_SPEC</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								The Docker CLI versions to which Red Hat Quay will respond that V2 is <span class="strong strong"><strong>unsupported</strong></span><br/><br/><span class="strong strong"><strong>Example</strong></span>: <code class="literal">&lt;1.8.0</code><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">&lt;1.6.0</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>DOCUMENTATION_ROOT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								Root URL for documentation links
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>SECURITY_SCANNER_V4_NAMESPACE_WHITELIST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								The namespaces for which the security scanner should be enabled
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>FEATURE_RESTRICTED_V1_PUSH</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								If set to true, only namespaces listed in V1_PUSH_WHITELIST support V1 push<br/> <br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">True</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>V1_PUSH_WHITELIST</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								Array of String
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								The array of namespace names that support V1 push if FEATURE_RESTRICTED_V1_PUSH is set to true
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671706368">
							<p>
								<span class="strong strong"><strong>FEATURE_HELM_OCI_SUPPORT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671705280">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262671704192">
							<p>
								Enable support for Helm artifacts.<br/><br/><span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-v2-ui"><div class="titlepage"><div><div><h2 class="title">3.37. User interface v2 configuration field</h2></div></div></div><div class="table" id="idm46262670643568"><p class="title"><strong>Table 3.42. User interface v2 configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670637792" scope="col">Field</th><th align="left" valign="top" id="idm46262670636704" scope="col">Type</th><th align="left" valign="top" id="idm46262670635616" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670637792">
							<p>
								<span class="strong strong"><strong>FEATURE_UI_V2</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262670636704">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262670635616">
							<p>
								When set, allows users to try the beta UI environment.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">False</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="reference-miscellaneous-v2-ui"><div class="titlepage"><div><div><h3 class="title">3.37.1. v2 user interface configuration</h3></div></div></div><p>
					With <code class="literal">FEATURE_UI_V2</code> enabled, you can toggle between the current version of the user interface and the new version of the user interface.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								This UI is currently in beta and subject to change. In its current state, users can only create, view, and delete organizations, repositories, and image tags.
							</li><li class="listitem">
								When running Red Hat Quay in the old UI, timed-out sessions would require that the user input their password again in the pop-up window. With the new UI, users are returned to the main page and required to input their username and password credentials. This is a known issue and will be fixed in a future version of the new UI.
							</li><li class="listitem">
								There is a discrepancy in how image manifest sizes are reported between the legacy UI and the new UI. In the legacy UI, image manifests were reported in mebibytes. In the new UI, Red Hat Quay uses the standard definition of megabyte (MB) to report image manifest sizes.
							</li></ul></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In your deployment’s <code class="literal">config.yaml</code> file, add the <code class="literal">FEATURE_UI_V2</code> parameter and set it to <code class="literal">true</code>, for example:
						</p><pre class="programlisting language-yaml">---
FEATURE_TEAM_SYNCING: false
FEATURE_UI_V2: true
FEATURE_USER_CREATION: true
---</pre></li><li class="listitem">
							Log in to your Red Hat Quay deployment.
						</li><li class="listitem"><p class="simpara">
							In the navigation pane of your Red Hat Quay deployment, you are given the option to toggle between <span class="strong strong"><strong>Current UI</strong></span> and <span class="strong strong"><strong>New UI</strong></span>. Click the toggle button to set it to new UI, and then click <span class="strong strong"><strong>Use Beta Environment</strong></span>, for example:
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/38-ui-toggle.png" alt="Red Hat Quay v2 UI toggle"/></span>
						</p></li></ol></div></section></section><section class="section" id="config-fields-ipv6"><div class="titlepage"><div><div><h2 class="title">3.38. IPv6 configuration field</h2></div></div></div><div class="table" id="idm46262670604944"><p class="title"><strong>Table 3.43. IPv6 configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670599168" scope="col">Field</th><th align="left" valign="top" id="idm46262671961936" scope="col">Type</th><th align="left" valign="top" id="idm46262671960960" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670599168">
							<p>
								<span class="strong strong"><strong>FEATURE_LISTEN_IP_VERSION</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671961936">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671960960">
							<p>
								Enables IPv4, IPv6, or dual-stack protocol family. This configuration field must be properly set, otherwise Red Hat Quay fails to start.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">IPv4</code>
							</p>
							<p>
								<span class="strong strong"><strong>Additional configurations:</strong></span> <code class="literal">IPv6</code>, <code class="literal">dual-stack</code>
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-fields-branding"><div class="titlepage"><div><div><h2 class="title">3.39. Branding configuration fields</h2></div></div></div><div class="table" id="idm46262671947232"><p class="title"><strong>Table 3.44. Branding configuration fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671941456" scope="col">Field</th><th align="left" valign="top" id="idm46262671940368" scope="col">Type</th><th align="left" valign="top" id="idm46262671939280" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671941456">
							<p>
								<span class="strong strong"><strong>BRANDING</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671940368">
							<p>
								Object
							</p>
							</td><td align="left" valign="top" headers="idm46262671939280">
							<p>
								Custom branding for logos and URLs in the Red Hat Quay UI.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671941456">
							<p>
								<span class="strong strong"><strong>.logo</strong></span><br/> (Required)
							</p>
							</td><td align="left" valign="top" headers="idm46262671940368">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671939280">
							<p>
								Main logo image URL.<br/>
							</p>
							<p>
								The header logo defaults to 205x30 PX. The form logo on the Red Hat Quay sign in screen of the web UI defaults to 356.5x39.7 PX. <br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">/static/img/quay-horizontal-color.svg</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671941456">
							<p>
								<span class="strong strong"><strong>.footer_img</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671940368">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671939280">
							<p>
								Logo for UI footer. Defaults to 144x34 PX.<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal">/static/img/RedHat.svg</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671941456">
							<p>
								<span class="strong strong"><strong>.footer_url</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671940368">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671939280">
							<p>
								Link for footer image.<br/><br/><span class="strong strong"><strong>Example:</strong></span><br/><code class="literal"><a class="link" href="https://redhat.com">https://redhat.com</a></code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="example-config-fields-branding"><div class="titlepage"><div><div><h3 class="title">3.39.1. Example configuration for Red Hat Quay branding</h3></div></div></div><div class="formalpara"><p class="title"><strong>Branding config.yaml example</strong></p><p>
						
<pre class="programlisting language-yaml">BRANDING:
    logo: https://www.mend.io/wp-content/media/2020/03/5-tips_small.jpg
    footer_img: https://www.mend.io/wp-content/media/2020/03/5-tips_small.jpg
    footer_url: https://opensourceworld.org/</pre>
					</p></div></section></section><section class="section" id="config-fields-session-logout"><div class="titlepage"><div><div><h2 class="title">3.40. Session timeout configuration field</h2></div></div></div><p>
				The following configuration field relies on on the Flask API configuration field of the same name.
			</p><div class="table" id="idm46262671350400"><p class="title"><strong>Table 3.45. Session logout configuration field</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671344624" scope="col">Field</th><th align="left" valign="top" id="idm46262671343536" scope="col">Type</th><th align="left" valign="top" id="idm46262671342448" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671344624">
							<p>
								<span class="strong strong"><strong>PERMANENT_SESSION_LIFETIME</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671343536">
							<p>
								Integer
							</p>
							</td><td align="left" valign="top" headers="idm46262671342448">
							<p>
								A <code class="literal">timedelta</code> which is used to set the expiration date of a permanent session. The default is 31 days, which makes a permanent session survive for roughly one month.
							</p>
							<p>
								<span class="strong strong"><strong>Default:</strong></span> <code class="literal">2678400</code>
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="suggested-permanent-session-lifetime-config"><div class="titlepage"><div><div><h3 class="title">3.40.1. Example session timeout configuration</h3></div></div></div><p>
					The following YAML is the suggest configuration when enabling session lifetime.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Altering session lifetime is not recommended. Administrators should be aware of the allotted time when setting a session timeout. If you set the time too early, it might interrupt your workflow.
					</p></div></div><div class="formalpara"><p class="title"><strong>Session timeout YAML configuration</strong></p><p>
						
<pre class="programlisting language-yaml">PERMANENT_SESSION_LIFETIME: 3000</pre>
					</p></div></section></section></section><section class="chapter" id="config-envar-intro"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Environment variables</h1></div></div></div><p>
			Red Hat Quay supports a limited number of environment variables for dynamic configuration.
		</p><section class="section" id="config-envvar-georepl"><div class="titlepage"><div><div><h2 class="title">4.1. Geo-replication</h2></div></div></div><p>
				The same configuration should be used across all regions, with exception of the storage backend, which can be configured explicitly using the <code class="literal">QUAY_DISTRIBUTED_STORAGE_PREFERENCE</code> environment variable.
			</p><div class="table" id="idm46262671321728"><p class="title"><strong>Table 4.1. Geo-replication configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671315952" scope="col">Variable</th><th align="left" valign="top" id="idm46262671314864" scope="col">Type</th><th align="left" valign="top" id="idm46262671313776" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671315952">
							<p>
								<span class="strong strong"><strong>QUAY_DISTRIBUTED_STORAGE_PREFERENCE</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671314864">
							<p>
								String
							</p>
							</td><td align="left" valign="top" headers="idm46262671313776">
							<p>
								The preferred storage engine (by ID in DISTRIBUTED_STORAGE_CONFIG) to use.
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-envvar-dbpool"><div class="titlepage"><div><div><h2 class="title">4.2. Database connection pooling</h2></div></div></div><p>
				Red Hat Quay is composed of many different processes which all run within the same container. Many of these processes interact with the database.
			</p><p>
				If enabled, each process that interacts with the database will contain a connection pool. These per-process connection pools are configured to maintain a maximum of 20 connections. Under heavy load, it is possible to fill the connection pool for every process within a Red Hat Quay container. Under certain deployments and loads, this might require analysis to ensure that Red Hat Quay does not exceed the configured database’s maximum connection count.
			</p><p>
				Overtime, the connection pools will release idle connections. To release all connections immediately, Red Hat Quay requires a restart.
			</p><p>
				Database connection pooling can be toggled by setting the environment variable <code class="literal">DB_CONNECTION_POOLING</code> to <code class="literal">true</code> or <code class="literal">false</code>.
			</p><div class="table" id="idm46262672448912"><p class="title"><strong>Table 4.2. Database connection pooling configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672443120" scope="col">Variable</th><th align="left" valign="top" id="idm46262672442032" scope="col">Type</th><th align="left" valign="top" id="idm46262672440944" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672443120">
							<p>
								<span class="strong strong"><strong>DB_CONNECTION_POOLING</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672442032">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672440944">
							<p>
								Enable or disable database connection pooling
							</p>
							</td></tr></tbody></table></div></div><p>
				If database connection pooling is enabled, it is possible to change the maximum size of the connection pool. This can be done through the following <code class="literal">config.yaml</code> option:
			</p><div class="formalpara"><p class="title"><strong>config.yaml</strong></p><p>
					
<pre class="programlisting language-yaml">...
DB_CONNECTION_ARGS:
  max_connections: 10
...</pre>
				</p></div></section><section class="section" id="config-envvar-worker-connection"><div class="titlepage"><div><div><h2 class="title">4.3. HTTP connection counts</h2></div></div></div><p>
				It is possible to specify the quantity of simultaneous HTTP connections using environment variables. These can be specified as a whole, or for a specific component. The default for each is <code class="literal">50</code> parallel connections per process.
			</p><div class="table" id="idm46262672426448"><p class="title"><strong>Table 4.3. HTTP connection counts configuration</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672420672" scope="col">Variable</th><th align="left" valign="top" id="idm46262672419584" scope="col">Type</th><th align="left" valign="top" id="idm46262672418496" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672420672">
							<p>
								<span class="strong strong"><strong>WORKER_CONNECTION_COUNT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672419584">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262672418496">
							<p>
								Simultaneous HTTP connections <br/><br/><span class="strong strong"><strong>Default:</strong></span> 50
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672420672">
							<p>
								<span class="strong strong"><strong>WORKER_CONNECTION_COUNT_REGISTRY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672419584">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262672418496">
							<p>
								Simultaneous HTTP connections for registry<br/><br/><span class="strong strong"><strong>Default:</strong></span> WORKER_CONNECTION_COUNT
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672420672">
							<p>
								<span class="strong strong"><strong>WORKER_CONNECTION_COUNT_WEB</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672419584">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262672418496">
							<p>
								Simultaneous HTTP connections for web UI<br/><br/><span class="strong strong"><strong>Default:</strong></span> WORKER_CONNECTION_COUNT
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672420672">
							<p>
								<span class="strong strong"><strong>WORKER_CONNECTION_COUNT_SECSCAN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672419584">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262672418496">
							<p>
								Simultaneous HTTP connections for Clair<br/><br/><span class="strong strong"><strong>Default:</strong></span> WORKER_CONNECTION_COUNT
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-envvar-worker-count"><div class="titlepage"><div><div><h2 class="title">4.4. Worker count variables</h2></div></div></div><div class="table" id="idm46262671184608"><p class="title"><strong>Table 4.4. Worker count variables</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671178848" scope="col">Variable</th><th align="left" valign="top" id="idm46262671177760" scope="col">Type</th><th align="left" valign="top" id="idm46262671176672" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671178848">
							<p>
								<span class="strong strong"><strong>WORKER_COUNT</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671177760">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262671176672">
							<p>
								Generic override for number of processes
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671178848">
							<p>
								<span class="strong strong"><strong>WORKER_COUNT_REGISTRY</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671177760">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262671176672">
							<p>
								Specifies the number of processes to handle Registry requests within the <code class="literal">Quay</code> container<br/><br/><span class="strong strong"><strong>Values:</strong></span> Integer between 8 and 64
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671178848">
							<p>
								<span class="strong strong"><strong>WORKER_COUNT_WEB</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671177760">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262671176672">
							<p>
								Specifies the number of processes to handle UI/Web requests within the container<br/><br/> <span class="strong strong"><strong>Values:</strong></span> Integer between 2 and 32
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262671178848">
							<p>
								<span class="strong strong"><strong>WORKER_COUNT_SECSCAN</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262671177760">
							<p>
								Number
							</p>
							</td><td align="left" valign="top" headers="idm46262671176672">
							<p>
								Specifies the number of processes to handle Security Scanning (e.g. Clair) integration within the container<br/><br/><span class="strong strong"><strong>Values:</strong></span> Integer between 2 and 4
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="config-debug-variables"><div class="titlepage"><div><div><h2 class="title">4.5. Debug variables</h2></div></div></div><p>
				The following debug variables are available on Red Hat Quay.
			</p><div class="table" id="idm46262672333248"><p class="title"><strong>Table 4.5. Debug configuration variables</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672327472" scope="col">Variable</th><th align="left" valign="top" id="idm46262672326384" scope="col">Type</th><th align="left" valign="top" id="idm46262672325296" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672327472">
							<p>
								<span class="strong strong"><strong>DEBUGLOG</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672326384">
							<p>
								Boolean
							</p>
							</td><td align="left" valign="top" headers="idm46262672325296">
							<p>
								Whether to enable or disable debug logs.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm46262672327472">
							<p>
								<span class="strong strong"><strong>USERS_DEBUG</strong></span>
							</p>
							</td><td align="left" valign="top" headers="idm46262672326384">
							<p>
								Integer. Either <code class="literal">0</code> or <code class="literal">1</code>.
							</p>
							</td><td align="left" valign="top" headers="idm46262672325296">
							<p>
								Used to debug LDAP operations in clear text, including passwords. Must be used with <code class="literal">DEBUGLOG=TRUE</code>.<br/>
							</p>
							<div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Setting <code class="literal">USERS_DEBUG=1</code> exposes credentials in clear text. This variable should be removed from the Red Hat Quay deployment after debugging. The log file that is generated with this environment variable should be scrutinized, and passwords should be removed before sending to other users. Use with caution.
								</p></div></div>
							</td></tr></tbody></table></div></div></section></section><section class="chapter" id="clair-vulnerability-scanner"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Clair for Red Hat Quay</h1></div></div></div><p>
			Clair v4 (Clair) is an open source application that leverages static code analyses for parsing image content and reporting vulnerabilities affecting the content. Clair is packaged with Red Hat Quay and can be used in both standalone and Operator deployments. It can be run in highly scalable configurations, where components can be scaled separately as appropriate for enterprise environments.
		</p><section class="section" id="config-fields-overview"><div class="titlepage"><div><div><h2 class="title">5.1. Clair configuration overview</h2></div></div></div><p>
				Clair is configured by a structured YAML file. Each Clair node needs to specify what mode it will run in and a path to a configuration file through CLI flags or environment variables. For example:
			</p><pre class="programlisting language-terminal">$ clair -conf ./path/to/config.yaml -mode indexer</pre><p>
				or
			</p><pre class="programlisting language-terminal">$ clair -conf ./path/to/config.yaml -mode matcher</pre><p>
				The aforementioned commands each start two Clair nodes using the same configuration file. One runs the indexing facilities, while other runs the matching facilities.
			</p><p>
				If you are running Clair in <code class="literal">combo</code> mode, you must supply the indexer, matcher, and notifier configuration blocks in the configuration.
			</p><section class="section" id="information-using-clair-proxy-environment"><div class="titlepage"><div><div><h3 class="title">5.1.1. Information about using Clair in a proxy environment</h3></div></div></div><p>
					Environment variables respected by the Go standard library can be specified if needed, for example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<code class="literal">HTTP_PROXY</code>
						</p><pre class="programlisting language-terminal">$ export http://&lt;user_name&gt;:&lt;password&gt;@&lt;proxy_host&gt;:&lt;proxy_port&gt;</pre></li><li class="listitem"><p class="simpara">
							<code class="literal">HTTPS_PROXY</code>.
						</p><pre class="programlisting language-terminal">$ export https://&lt;user_name&gt;:&lt;password&gt;@&lt;proxy_host&gt;:&lt;proxy_port&gt;</pre></li><li class="listitem"><p class="simpara">
							<code class="literal">SSL_CERT_DIR</code>.
						</p><pre class="programlisting language-terminal">$ export SSL_CERT_DIR=/&lt;path&gt;/&lt;to&gt;/&lt;ssl&gt;/&lt;certificates&gt;</pre></li></ul></div><p>
					If you are using a proxy server in your environment with Clair’s updater URLs, you must identify which URL needs to be added to the proxy allowlist to ensure that Clair can access them unimpeded. For example, the <code class="literal">osv</code> updater requires access to <code class="literal">https://osv-vulnerabilities.storage.googleapis.com</code> to fetch ecosystem data dumps. In this scenario, the URL must be added to the proxy allowlist. For a full list of updater URLs, see "Clair updater URLs".
				</p><p>
					You must also ensure that the standard Clair URLs are added to the proxy allowlist:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">https://search.maven.org/solrsearch/select</code>
						</li><li class="listitem">
							<code class="literal">https://catalog.redhat.com/api/containers/</code>
						</li><li class="listitem">
							<code class="literal">https://access.redhat.com/security/data/metrics/repository-to-cpe.json</code>
						</li><li class="listitem">
							<code class="literal">https://access.redhat.com/security/data/metrics/container-name-repos-map.json</code>
						</li></ul></div><p>
					When configuring the proxy server, take into account any authentication requirements or specific proxy settings needed to enable seamless communication between Clair and these URLs. By thoroughly documenting and addressing these considerations, you can ensure that Clair functions effectively while routing its updater traffic through the proxy.
				</p></section><section class="section" id="config-fields-clair-reference"><div class="titlepage"><div><div><h3 class="title">5.1.2. Clair configuration reference</h3></div></div></div><p>
					The following YAML shows an example Clair configuration:
				</p><pre class="programlisting language-yaml">http_listen_addr: ""
introspection_addr: ""
log_level: ""
tls: {}
indexer:
    connstring: ""
    scanlock_retry: 0
    layer_scan_concurrency: 0
    migrations: false
    scanner: {}
    airgap: false
matcher:
    connstring: ""
    indexer_addr: ""
    migrations: false
    period: ""
    disable_updaters: false
    update_retention: 2
matchers:
    names: nil
    config: nil
updaters:
    sets: nil
    config: nil
notifier:
    connstring: ""
    migrations: false
    indexer_addr: ""
    matcher_addr: ""
    poll_interval: ""
    delivery_interval: ""
    disable_summary: false
    webhook: null
    amqp: null
    stomp: null
auth:
  psk: nil
trace:
    name: ""
    probability: null
    jaeger:
        agent:
            endpoint: ""
        collector:
            endpoint: ""
            username: null
            password: null
        service_name: ""
        tags: nil
        buffer_max: 0
metrics:
    name: ""
    prometheus:
        endpoint: null
    dogstatsd:
        url: ""</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The above YAML file lists every key for completeness. Using this configuration file as-is will result in some options not having their defaults set normally.
					</p></div></div></section><section class="section" id="config-fields-required-clair"><div class="titlepage"><div><div><h3 class="title">5.1.3. Clair general fields</h3></div></div></div><p>
					The following section describes the general configuration fields available for a Clair deployment:
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262672374944" scope="col">Field</th><th align="left" valign="top" id="idm46262672373856" scope="col">Typhttp_listen_ae</th><th align="left" valign="top" id="idm46262672372768" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262672374944">
								<p>
									<span class="strong strong"><strong>http_listen_addr</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672373856">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672372768">
								<p>
									Configures where the HTTP API is exposed.
								</p>
								<p>
									Default: <code class="literal">:6060</code>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672374944">
								<p>
									<span class="strong strong"><strong>introspection_addr</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672373856">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672372768">
								<p>
									Configures where Clair’s metrics and health endpoints are exposed.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672374944">
								<p>
									<span class="strong strong"><strong>log_level</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672373856">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672372768">
								<p>
									Sets the logging level. Requires one of the following strings: <span class="strong strong"><strong>debug-color</strong></span>, <span class="strong strong"><strong>debug</strong></span>, <span class="strong strong"><strong>info</strong></span>, <span class="strong strong"><strong>warn</strong></span>, <span class="strong strong"><strong>error</strong></span>, <span class="strong strong"><strong>fatal</strong></span>, <span class="strong strong"><strong>panic</strong></span>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672374944">
								<p>
									<span class="strong strong"><strong>tls</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672373856">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672372768">
								<p>
									A map containing the configuration for serving the HTTP API of TLS/SSL and HTTP/2.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262672374944">
								<p>
									<span class="strong strong"><strong>.cert</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262672373856">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262672372768">
								<p>
									The TLS certificate to be used. Must be a full-chain certificate.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-indexer"><div class="titlepage"><div><div><h3 class="title">5.1.4. Clair indexer configuration fields</h3></div></div></div><p>
					The following indexer configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671537024" scope="col">Field</th><th align="left" valign="top" id="idm46262671535936" scope="col">Type</th><th align="left" valign="top" id="idm46262671534848" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>indexer</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Provides Clair indexer node configuration.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.airgap</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Disables HTTP access to the internet for indexers and fetchers. Private IPv4 and IPv6 addresses are allowed. Database connections are unaffected.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.connstring</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									A Postgres connection string. Accepts format as a URL or libpq connection string.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.index_report_request_concurrency</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Rate limits the number of index report creation requests. Setting this to <code class="literal">0</code> attemps to auto-size this value. Setting a negative value means unlimited. The auto-sizing is a multiple of the number of available cores.
								</p>
								<p>
									The API returns a <code class="literal">429</code> status code if concurrency is exceeded.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.scanlock_retry</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									A positive integer representing seconds. Concurrent indexers lock on manifest scans to avoid clobbering. This value tunes how often a waiting indexer polls for the lock.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.layer_scan_concurrency</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Positive integer limiting the number of concurrent layer scans. Indexers will match a manifest’s layer concurrently. This value tunes the number of layers an indexer scans in parallel.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.migrations</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Whether indexer nodes handle migrations to their database.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.scanner</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									Indexer configuration.
								</p>
								<p>
									Scanner allows for passing configuration options to layer scanners. The scanner will have this configuration pass to it on construction if designed to do so.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.scanner.dist</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									A map with the name of a particular scanner and arbitrary YAML as a value.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.scanner.package</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									A map with the name of a particular scanner and arbitrary YAML as a value.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671537024">
								<p>
									<span class="strong strong"><strong>.scanner.repo</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671535936">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671534848">
								<p>
									A map with the name of a particular scanner and arbitrary YAML as a value.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-matcher"><div class="titlepage"><div><div><h3 class="title">5.1.5. Clair matcher configuration fields</h3></div></div></div><p>
					The following matcher configuration fields are available for Clair.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Differs from <code class="literal">matchers</code> configuration fields.
					</p></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262686685568" scope="col">Field</th><th align="left" valign="top" id="idm46262686684480" scope="col">Type</th><th align="left" valign="top" id="idm46262686683392" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>matcher</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Provides Clair matcher node configuration.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.cache_age</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Controls how long users should be hinted to cache responses for.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.connstring</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									A Postgres connection string. Accepts format as a URL or libpq connection string.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.max_conn_pool</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Limits the database connection pool size.
								</p>
								<p>
									Clair allows for a custom connection pool size. This number directly sets how many active database connections are allowed concurrently.
								</p>
								<p>
									This parameter will be ignored in a future version. Users should configure this through the connection string.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.indexer_addr</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									A matcher contacts an indexer to create a <code class="literal">VulnerabilityReport</code>. The location of this indexer is required.
								</p>
								<p>
									Defaults to <code class="literal">30m</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.migrations</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Whether matcher nodes handle migrations to their databases.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.period</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Determines how often updates for new security advisories take place.
								</p>
								<p>
									Defaults to <code class="literal">30m</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.disable_updaters</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Whether to run background updates or not.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262686685568">
								<p>
									<span class="strong strong"><strong>.update_retention</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262686684480">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262686683392">
								<p>
									Sets the number of update operations to retain between garbage collection cycles. This should be set to a safe MAX value based on database size constraints.
								</p>
								<p>
									Defaults to <code class="literal">10m</code>.
								</p>
								<p>
									If a value of less than <code class="literal">0</code> is provided, garbage collection is disabled. <code class="literal">2</code> is the minimum value to ensure updates can be compared to notifications.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-matchers"><div class="titlepage"><div><div><h3 class="title">5.1.6. Clair matchers configuration fields</h3></div></div></div><p>
					The following matchers configuration fields are available for Clair.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Differs from <code class="literal">matcher</code> configuration fields.
					</p></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673618832" scope="col">Field</th><th align="left" valign="top" id="idm46262673617744" scope="col">Type</th><th align="left" valign="top" id="idm46262673616656" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673618832">
								<p>
									<span class="strong strong"><strong>matchers</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673617744">
								<p>
									Array of strings
								</p>
								</td><td align="left" valign="top" headers="idm46262673616656">
								<p>
									Provides configuration for the in-tree <code class="literal">matchers</code> and <code class="literal">remotematchers</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673618832">
								<p>
									<span class="strong strong"><strong>.names</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673617744">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673616656">
								<p>
									A list of string values informing the matcher factory about enabled matchers. If value is set to <code class="literal">null</code>, the default list of matchers run: <span class="strong strong"><strong>alpine</strong></span>, <span class="strong strong"><strong>aws</strong></span>, <span class="strong strong"><strong>debian</strong></span>, <span class="strong strong"><strong>oracle</strong></span>, <span class="strong strong"><strong>photon</strong></span>, <span class="strong strong"><strong>clair.cvss</strong></span>, <span class="strong strong"><strong>rhel</strong></span>, <span class="strong strong"><strong>rhcc</strong></span>, <span class="strong strong"><strong>suse</strong></span>, <span class="strong strong"><strong>ubuntu</strong></span>, <span class="strong strong"><strong>osv</strong></span>
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673618832">
								<p>
									<span class="strong strong"><strong>.config</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673617744">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673616656">
								<p>
									Provides configuration to a specific matcher.
								</p>
								<p>
									A map keyed by the name of the matcher containing a sub-object which will be provided to the matchers factory constructor. For example:
								</p>
								
<pre class="programlisting language-yaml">config:
  python:
    ignore_vulns:
      - CVE-XYZ
      - CVE-ABC</pre>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-updaters"><div class="titlepage"><div><div><h3 class="title">5.1.7. Clair updaters configuration fields</h3></div></div></div><p>
					The following updaters configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671655680" scope="col">Field</th><th align="left" valign="top" id="idm46262671654592" scope="col">Type</th><th align="left" valign="top" id="idm46262671653504" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671655680">
								<p>
									<span class="strong strong"><strong>updaters</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671654592">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671653504">
								<p>
									Provides configuration for the matcher’s update manager.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671655680">
								<p>
									<span class="strong strong"><strong>.sets</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671654592">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671653504">
								<p>
									A list of values informing the update manager which updaters to run.
								</p>
								<p>
									If value is set to <code class="literal">null</code>, the default set of updaters runs the following: <span class="strong strong"><strong>alpine</strong></span>, <span class="strong strong"><strong>aws</strong></span>, <span class="strong strong"><strong>debian</strong></span>, <span class="strong strong"><strong>oracle</strong></span>, <span class="strong strong"><strong>photon</strong></span>, <span class="strong strong"><strong>pyupio</strong></span>, <span class="strong strong"><strong>rhel</strong></span>, <span class="strong strong"><strong>suse</strong></span>, <span class="strong strong"><strong>ubuntu</strong></span>
								</p>
								<p>
									If left blank, zero updaters run.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671655680">
								<p>
									<span class="strong strong"><strong>.config</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671654592">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671653504">
								<p>
									Provides configuration to specific updater sets.
								</p>
								<p>
									A map keyed by the name of the updater set containing a sub-object which will be provided to the updater set’s constructor. For example:
								</p>
								
<pre class="programlisting language-yaml">config:
  ubuntu:
    security_tracker_url: http://security.url
    ignore_distributions:
      - cosmic</pre>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671655680">
								<p>
									<span class="strong strong"><strong>..ignore_unpatched</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671654592">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262671653504">
								<p>
									Whether to enable reporting of unpatched vulnerabilities.
								</p>
								<p>
									<span class="strong strong"><strong>Default:</strong></span> <code class="literal">false</code>
								</p>
								
<pre class="programlisting language-terminal">updaters:
  config:
    rhel:
      ignore_unpatched: false</pre>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-notifiers"><div class="titlepage"><div><div><h3 class="title">5.1.8. Clair notifier configuration fields</h3></div></div></div><p>
					The following notifier configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262670425408" scope="col">Field</th><th align="left" valign="top" id="idm46262670424320" scope="col">Type</th><th align="left" valign="top" id="idm46262670423232" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>notifier</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Provides Clair notifier node configuration.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.connstring</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Postgres connection string. Accepts format as URL, or libpq connection string.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.migrations</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Whether notifier nodes handle migrations to their database.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.indexer_addr</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									A notifier contacts an indexer to create or obtain manifests affected by vulnerabilities. The location of this indexer is required.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.matcher_addr</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									A notifier contacts a matcher to list update operations and acquire diffs. The location of this matcher is required.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.poll_interval</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The frequency at which the notifier will query a matcher for update operations.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.delivery_interval</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The frequency at which the notifier attempts delivery of created, or previously failed, notifications.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.disable_summary</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Controls whether notifications should be summarized to one per manifest.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.webhook</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configures the notifier for webhook delivery.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.webhook.target</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									URL where the webhook will be delivered.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.webhook.callback</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The callback URL where notifications can be retrieved. The notification ID will be appended to this URL.
								</p>
								<p>
									This will typically be where the Clair notifier is hosted.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.webhook.headers</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									A map associating a header name to a list of values.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configures the notifier for AMQP delivery.
								</p>
								<div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Clair does not declare any AMQP components on its own. All attempts to use an exchange or queue are passive only and will fail. Broker administrators should setup exchanges and queues ahead of time.
									</p></div></div>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.direct</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									If <code class="literal">true</code>, the notifier will deliver individual notifications (not a callback) to the configured AMQP broker.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.rollup</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									When <code class="literal">amqp.direct</code> is set to <code class="literal">true</code>, this value informs the notifier of how many notifications to send in a direct delivery. For example, if <code class="literal">direct</code> is set to <code class="literal">true</code>, and <code class="literal">amqp.rollup</code> is set to <code class="literal">5</code>, the notifier delivers no more than 5 notifications in a single JSON payload to the broker. Setting the value to <code class="literal">0</code> effectively sets it to <code class="literal">1</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.exchange</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The AMQP exchange to connect to.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.exchange.name</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The name of the exchange to connect to.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.exchange.type</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The type of the exchange. Typically one of the following: <span class="strong strong"><strong>direct</strong></span>, <span class="strong strong"><strong>fanout</strong></span>, <span class="strong strong"><strong>topic</strong></span>, <span class="strong strong"><strong>headers</strong></span>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.exchange.durability</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Whether the configured queue is durable.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.exchange.auto_delete</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Whether the configured queue uses an <code class="literal">auto_delete_policy</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.routing_key</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The name of the routing key each notification is sent with.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.callback</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									If <code class="literal">amqp.direct</code> is set to <code class="literal">false</code>, this URL is provided in the notification callback sent to the broker. This URL should point to Clair’s notification API endpoint.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.uris</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									A list of one or more AMQP brokers to connect to, in priority order.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.tls</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configures TLS/SSL connection to an AMQP broker.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.tls.root_ca</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a root CA can be read.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.tls.cert</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a TLS/SSL certificate can be read.
								</p>
								<div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Clair also allows <code class="literal">SSL_CERT_DIR</code>, as documented for the Go <code class="literal">crypto/x509</code> package.
									</p></div></div>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.amqp.tls.key</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a TLS/SSL private key can be read.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configures the notifier for STOMP delivery.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.direct</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Boolean
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									If <code class="literal">true</code>, the notifier delivers individual notifications (not a callback) to the configured STOMP broker.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.rollup</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									If <code class="literal">stomp.direct</code> is set to <code class="literal">true</code>, this value limits the number of notifications sent in a single direct delivery. For example, if <code class="literal">direct</code> is set to <code class="literal">true</code>, and <code class="literal">rollup</code> is set to <code class="literal">5</code>, the notifier delivers no more than 5 notifications in a single JSON payload to the broker. Setting the value to <code class="literal">0</code> effectively sets it to <code class="literal">1</code>.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.callback</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									If <code class="literal">stomp.callback</code> is set to <code class="literal">false</code>, the provided URL in the notification callback is sent to the broker. This URL should point to Clair’s notification API endpoint.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.destination</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The STOMP destination to deliver notifications to.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.uris</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									A list of one or more STOMP brokers to connect to in priority order.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.tls</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configured TLS/SSL connection to STOMP broker.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.tls.root_ca</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a root CA can be read.
								</p>
								<div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Clair also respects <code class="literal">SSL_CERT_DIR</code>, as documented for the Go <code class="literal">crypto/x509</code> package.
									</p></div></div>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.tls.cert</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a TLS/SSL certificate can be read.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.tls.key</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The filesystem path where a TLS/SSL private key can be read.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.user</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									Configures login details for the STOMP broker.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.user.login</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The STOMP login to connect with.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262670425408">
								<p>
									<span class="strong strong"><strong>.stomp.user.passcode</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262670424320">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262670423232">
								<p>
									The STOMP passcode to connect with.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-auth"><div class="titlepage"><div><div><h3 class="title">5.1.9. Clair authorization configuration fields</h3></div></div></div><p>
					The following authorization configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262669780832" scope="col">Field</th><th align="left" valign="top" id="idm46262669779744" scope="col">Type</th><th align="left" valign="top" id="idm46262669778656" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262669780832">
								<p>
									<span class="strong strong"><strong>auth</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669779744">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262669778656">
								<p>
									Defines Clair’s external and intra-service JWT based authentication. If multiple <code class="literal">auth</code> mechanisms are defined, Clair picks one. Currently, multiple mechanisms are unsupported.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669780832">
								<p>
									<span class="strong strong"><strong>.psk</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669779744">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669778656">
								<p>
									Defines pre-shared key authentication.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669780832">
								<p>
									<span class="strong strong"><strong>.psk.key</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669779744">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669778656">
								<p>
									A shared base64 encoded key distributed between all parties signing and verifying JWTs.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262669780832">
								<p>
									<span class="strong strong"><strong>.psk.iss</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262669779744">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262669778656">
								<p>
									A list of JWT issuers to verify. An empty list accepts any issuer in a JWT claim.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-trace"><div class="titlepage"><div><div><h3 class="title">5.1.10. Clair trace configuration fields</h3></div></div></div><p>
					The following trace configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262671294176" scope="col">Field</th><th align="left" valign="top" id="idm46262671293088" scope="col">Type</th><th align="left" valign="top" id="idm46262671292000" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>trace</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									Defines distributed tracing configuration based on OpenTelemetry.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.name</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									The name of the application traces will belong to.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.probability</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									The probability a trace will occur.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									Defines values for Jaeger tracing.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.agent</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									Defines values for configuring delivery to a Jaeger agent.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.agent.endpoint</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									An address in the <code class="literal">&lt;host&gt;:&lt;post&gt;</code> syntax where traces can be submitted.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.collector</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									Defines values for configuring delivery to a Jaeger collector.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.collector.endpoint</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									An address in the <code class="literal">&lt;host&gt;:&lt;post&gt;</code> syntax where traces can be submitted.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.collector.username</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									A Jaeger username.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.collector.password</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									A Jaeger password.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.service_name</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									The service name registered in Jaeger.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.tags</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									Key-value pairs to provide additional metadata.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262671294176">
								<p>
									<span class="strong strong"><strong>.jaeger.buffer_max</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262671293088">
								<p>
									Integer
								</p>
								</td><td align="left" valign="top" headers="idm46262671292000">
								<p>
									The maximum number of spans that can be buffered in memory before they are sent to the Jaeger backend for storage and analysis.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="config-fields-clair-metrics"><div class="titlepage"><div><div><h3 class="title">5.1.11. Clair metrics configuration fields</h3></div></div></div><p>
					The following metrics configuration fields are available for Clair.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 17%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46262673167728" scope="col">Field</th><th align="left" valign="top" id="idm46262673166640" scope="col">Type</th><th align="left" valign="top" id="idm46262673165552" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46262673167728">
								<p>
									<span class="strong strong"><strong>metrics</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673166640">
								<p>
									Object
								</p>
								</td><td align="left" valign="top" headers="idm46262673165552">
								<p>
									Defines distributed tracing configuration based on OpenTelemetry.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673167728">
								<p>
									<span class="strong strong"><strong>.name</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673166640">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673165552">
								<p>
									The name of the metrics in use.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673167728">
								<p>
									<span class="strong strong"><strong>.prometheus</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673166640">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673165552">
								<p>
									Configuration for a Prometheus metrics exporter.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46262673167728">
								<p>
									<span class="strong strong"><strong>.prometheus.endpoint</strong></span>
								</p>
								</td><td align="left" valign="top" headers="idm46262673166640">
								<p>
									String
								</p>
								</td><td align="left" valign="top" headers="idm46262673165552">
								<p>
									Defines the path where metrics are served.
								</p>
								</td></tr></tbody></table></div></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm46262669967728"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>