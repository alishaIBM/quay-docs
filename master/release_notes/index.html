<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Red Hat Quay Release Notes</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.4"/><meta name="description" content="Red Hat Quay Release Notes"/><link rel="next" href="#idm45763772335120" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm45763772010496"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Quay</span> <span class="productnumber">3.8</span></div><div><h1 class="title">Red Hat Quay Release Notes</h1></div><div><h2 class="subtitle">Red Hat Quay</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat OpenShift Documentation Team</span></div></div><div><a href="#idm45763753309712">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Red Hat Quay Release Notes
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm45763772335120">Preface</a></span></li></ul></div><section class="preface" id="idm45763772335120"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			Red Hat Quay container registry platform provides secure storage, distribution, and governance of containers and cloud-native artifacts on any infrastructure. It is available as a standalone component or as an Operator on OpenShift Container Platform. Red Hat Quay includes the following features and benefits:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Granular security management
				</li><li class="listitem">
					Fast and robust at any scale
				</li><li class="listitem">
					High velocity CI/CD
				</li><li class="listitem">
					Automated installation and upates
				</li><li class="listitem">
					Enterprise authentication and team-based access control
				</li><li class="listitem">
					OpenShift Container Platform integration
				</li></ul></div><p>
			Red Hat Quay is regularly released, containing new features, bug fixes, and software updates. To upgrade Red Hat Quay for both standalone and OpenShift Container Platform deployments, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html/upgrade_red_hat_quay/index">Upgrade Red Hat Quay</a>.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Red Hat Quay only supports rolling back, or downgrading, to previous z-stream versions, for example, 3.7.2 → 3.7.1. Rolling back to previous y-stream versions (3.7.0 → 3.6.0) is not supported. This is because Red Hat Quay updates might contain database schema upgrades that are applied when upgrading to a new version of Red Hat Quay. Database schema upgrades are not considered backwards compatible.
			</p></div></div><p>
			Documentation for Red Hat Quay is versioned with each release. The latest Red Hat Quay documentation is available from the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay">Red Hat Quay Documentation</a> page. Currently, version 3 is the latest major version.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				Prior to version 2.9.2, Red Hat Quay was called Quay Enterprise. Documentation for 2.9.2 and prior versions are archived on the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/2.9">Product Documentation for Red Hat Quay 2.9</a> page.
			</p></div></div></section><section class="section" id="rn-3-800"><div class="titlepage"><div><div><h2 class="title">1. RHBA-2022:6976 - Red Hat Quay v3.8.0 release</h2></div></div></div><p>
			Issued 2022-12-6
		</p><p>
			Red Hat Quay release 3.8.0 is now available with Clair 4.5.1. The bug fixes that are included in the update are listed in the <a class="link" href="https://access.redhat.com/errata/RHBA-2022:6976">RHBA-2022:6976</a> advisory.
		</p><section class="section" id="new-features-and-enhancements-38"><div class="titlepage"><div><div><h3 class="title">1.1. Red Hat Quay, Clair, and Quay Builder new features and enhancements</h3></div></div></div><p>
				The following updates have been made to Red Hat Quay, Clair, and Quay Builders:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Previously, Red Hat Quay only supported the IPv4 protocol family. IPv6 support is now available in Red Hat Quay 3.8 standalone deployments. Additionally, dual-stack (IPv4/IPv6) support is available.
					</p><div class="table" id="idm45763772036336"><p class="title"><strong>Table 1. Network protocol support</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 25%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm45763772313600" scope="col">Protocol family</th><th align="left" valign="top" id="idm45763772410896" scope="col">Red Hat Quay 3.7</th><th align="left" valign="top" id="idm45763772409168" scope="col">Red Hat Quay 3.8</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45763772313600">
									<p>
										IPv4
									</p>
									</td><td align="left" valign="top" headers="idm45763772410896">
									<p>
										✓
									</p>
									</td><td align="left" valign="top" headers="idm45763772409168">
									<p>
										✓
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm45763772313600">
									<p>
										IPv6
									</p>
									</td><td align="left" valign="top" headers="idm45763772410896"> </td><td align="left" valign="top" headers="idm45763772409168">
									<p>
										✓
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm45763772313600">
									<p>
										Dual-stack (IPv4/IPv6)
									</p>
									</td><td align="left" valign="top" headers="idm45763772410896"> </td><td align="left" valign="top" headers="idm45763772409168">
									<p>
										✓
									</p>
									</td></tr></tbody></table></div></div><p class="simpara">
						For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-272">PROJQUAY-272</a>.
					</p><p class="simpara">
						For a list of known limitations, see <a class="link" href="#ipv6-limitations-38" title="1.3.2. IPv6 and dual-stack limitations and known issues:">IPv6 and dual-stack limitations</a>.
					</p></li><li class="listitem"><p class="simpara">
						Previously, Red Hat Quay did not require self-signed certificates to use Subject Alternative Names (SANs). Red Hat Quay users could temporarily enable Common Name matching with <code class="literal">GODEBUG=x509ignoreCN=0</code> to bypass the required certificate.
					</p><p class="simpara">
						With Red Hat Quay 3.8, Red Hat Quay has been upgraded to use Go version 1.17. As a result, setting <code class="literal">GODEBUG=x509ignoreCN=0</code> no longer works. Users must include self-signed certificates to use SAN.
					</p><p class="simpara">
						For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-1605">PROJQUAY-1605</a>.
					</p></li><li class="listitem"><p class="simpara">
						The following enhancements have been made to the Red Hat Quay proxy cache feature:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								Previously, the cache of a proxy organization with quota management enabled could reach full capacity. As a result, pulls for new images could be prevented until an administrator cleaned up the cached images.
							</p><p class="simpara">
								With this update, Red Hat Quay administrators can now use the storage quota of an organization to limit the cache size. Limiting the cache size ensures that backend storage consumption remains predictable by discarding images from the cache according to the pull frequency or overall usage of an image. As a result, the storage size allotted by quota management always stays within its limits.
							</p><p class="simpara">
								For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/use_red_hat_quay#proxy-cache-leveraging-storage-quota-limits">Leveraging storage quota limits in proxy organizations</a>.
							</p></li><li class="listitem"><p class="simpara">
								Previously, when mirroring a repository, an image with the <code class="literal">latest</code> tag must have existed in the remote repository. This requirement has been removed. Now, an image with the <code class="literal">latest</code> tag is no longer required, and you do not need to specify an existing tag explicitly.
							</p><p class="simpara">
								For more information on this update, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-2179">PROJQUAY-2179</a>.
							</p><p class="simpara">
								For more information on tag patterns, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html/manage_red_hat_quay/repo-mirroring-in-red-hat-quay#mirroring-tag-patterns">Mirroring tag patterns</a>.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Red Hat Quay 3.8 now includes support for the following Open Container Initiative (OCI) image media types:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Software Packadage Data Exchange (SPDX)
							</li><li class="listitem">
								Syft
							</li><li class="listitem"><p class="simpara">
								CycloneDX
							</p><p class="simpara">
								These can be configured by the users in their <code class="literal">config.yaml</code> file, for example:
							</p><div class="formalpara"><p class="title"><strong>config.yaml</strong></p><p>
									
<pre class="programlisting language-yaml">...
ALLOWED_OCI_ARTIFACT_TYPES:
    application/vnd.syft+json
    application/vnd.cyclonedx
    application/vnd.cyclonedx+xml
    application/vnd.cyclonedx+json
    application/vnd.in-toto+json
...</pre>
								</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									When adding OCI media types that are not configured by default, users will also need to manually add support for cosign and Helm if desired. The ztsd compression scheme is supported by default, so users will not need to add that OCI media type to their config.yaml to enable support.
								</p></div></div></li></ul></div></li></ul></div><section class="section" id="new_red_hat_quay_configuration_fields"><div class="titlepage"><div><div><h4 class="title">1.1.1. New Red Hat Quay configuration fields</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The following configuration field has been added to test Red Hat Quay’s new user interface:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>FEATURE_UI_V2</strong></span>: With this configuration field, users can test the beta UI environment.
								</p><p class="simpara">
									<span class="strong strong"><strong>Default</strong></span>: <code class="literal">False</code>
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#reference-miscellaneous-v2-ui">FEATURE_UI_V2</a>.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							The following configuration fields have been added to enhance the Red Hat Quay registry:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>FEATURE_LISTEN_IP_VERSION</strong></span>: This configuration field allows users to set the protocol family to IPv4, IPv6, or dual-stack. This configuration field must be properly set, otherwise Red Hat Quay fails to start.
								</p><p class="simpara">
									<span class="strong strong"><strong>Default</strong></span>: <code class="literal">IPv4</code>
								</p><p class="simpara">
									<span class="strong strong"><strong>Additional configurations</strong></span>: <code class="literal">IPv6</code>, <code class="literal">dual-stack</code>
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-ipv6-dual-stack">Enabling the FEATURE_LISTEN_IP_VERSION configuration field on standalone Red Hat Quay deployments</a>.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							The following configuration fields have been added to enhance Lightweight Directory Access Protocol (LDAP) deployments:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>LDAP_SUPERUSER_FILTER</strong></span>: This configuration field is a subset of the <code class="literal">LDAP_USER_FILTER</code> configuration field. It allows Red Hat Quay administrators the ability to configure Lightweight Directory Access Protocol (LDAP) users as superusers when Red Hat Quay users select LDAP as their authentication provider.
								</p><p class="simpara">
									With this field, administrators can add or remove superusers without having to update the Red Hat Quay configuration file and restart their deployment.
								</p><p class="simpara">
									This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">LDAP</code>.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-ldap-super-users">Enabling the LDAP_SUPERUSER_FILTER configuration field</a>.
								</p></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>LDAP_RESTRICTED_USER_FILTER</strong></span>: This configuration field is a subset of the <code class="literal">LDAP_USER_FILTER</code> configuration field. When configured, allows Red Hat Quay administrators the ability to configure Lightweight Directory Access Protocol (LDAP) users as restricted users when Red Hat Quay uses LDAP as its authentication provider.
								</p><p class="simpara">
									This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">LDAP</code>.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-ldap-restricted-users">LDAP_RESTRICTED_USER_FILTER</a>.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							The following configuration fields have been added to enhance the superuser role:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>FEATURE_SUPERUSERS_FULL_ACCESS</strong></span>: This configuration field grants superusers the ability to read, write, and delete content from other repositories in namespaces that they do not own or have explicit permissions for.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-superusers-full-access">FEATURE_SUPERUSERS_FULL_ACCESS</a>.
								</p></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>GLOBAL_READONLY_SUPER_USERS</strong></span>: This configuration field grants users of this list read access to all repositories, regardless of whether they are public repositories.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-global-readonly-super-users">GLOBAL_READONLY_SUPER_USERS</a>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										In its current state, this feature only allows designated users to pull content from all repositories. Administrative restrictions will be added in a future version of Red Hat Quay.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							The following configuration fields have been added to enhance user permissions:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>FEATURE_RESTRICTED_USERS</strong></span>: When set with <code class="literal">RESTRICTED_USERS_WHITELIST</code>, restricted users cannot create organizations or content in their own namespace. Normal permissions apply for an organization’s membership, for example, a restricted user will still have normal permissions in organizations based on the teams that they are members of.
								</p><p class="simpara">
									This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">Database</code>.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-superusers-full-access">FEATURE_RESTRICTED_USERS</a>.
								</p></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>RESTRICTED_USERS_WHITELIST</strong></span>: When set with <code class="literal">FEATURE_RESTRICTED_USERS: true</code>, administrators can exclude users from the <code class="literal">FEATURE_RESTRICTED_USERS</code> setting.
								</p><p class="simpara">
									This field requires that your <code class="literal">AUTHENTICATION_TYPE</code> is set to <code class="literal">Database</code>.
								</p><p class="simpara">
									For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#enabling-restricted-users-whitelist">RESTRICTED_USERS_WHITELIST</a>.
								</p></li></ul></div></li></ul></div></section></section><section class="section" id="quay-operator-updates"><div class="titlepage"><div><div><h3 class="title">1.2. Red Hat Quay Operator</h3></div></div></div><p>
				The following updates have been made to the Red Hat Quay Operator:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Previously, the Red Hat Quay Operator only supported the IPv4 protocol family. IPv6 support is now available in Red Hat Quay 3.8 Operator deployments.
					</p><div class="table" id="idm45763772809024"><p class="title"><strong>Table 2. Network protocol support</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm45763772684288" scope="col">Protocol family</th><th align="left" valign="top" id="idm45763772668128" scope="col">Red Hat Quay 3.7 Operator</th><th align="left" valign="top" id="idm45763772668416" scope="col">Red Hat Quay 3.8 Operator</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45763772684288">
									<p>
										IPv4
									</p>
									</td><td align="left" valign="top" headers="idm45763772668128">
									<p>
										✓
									</p>
									</td><td align="left" valign="top" headers="idm45763772668416">
									<p>
										✓
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm45763772684288">
									<p>
										IPv6
									</p>
									</td><td align="left" valign="top" headers="idm45763772668128"> </td><td align="left" valign="top" headers="idm45763772668416">
									<p>
										✓
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm45763772684288">
									<p>
										Dual-stack (IPv4/IPv6)
									</p>
									</td><td align="left" valign="top" headers="idm45763772668128"> </td><td align="left" valign="top" headers="idm45763772668416"> </td></tr></tbody></table></div></div><p class="simpara">
						For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-272">PROJQUAY-272</a>.
					</p><p class="simpara">
						For a list of known limitations, see <a class="link" href="#ipv6-limitations-38" title="1.3.2. IPv6 and dual-stack limitations and known issues:">IPv6 and dual-stack limitations</a>.
					</p></li></ul></div></section><section class="section" id="known-issues-and-limitations-38"><div class="titlepage"><div><div><h3 class="title">1.3. Red Hat Quay 3.8 known issues and limitations</h3></div></div></div><section class="section" id="known-issues-38"><div class="titlepage"><div><div><h4 class="title">1.3.1. Known issues:</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The <code class="literal">metadata_json</code> column in the <code class="literal">logentry3</code> table on MySQL deployments has a limited size of <code class="literal">TEXT</code>. Currently, the default size of the column set to be <code class="literal">TEXT</code> is 65535 bytes. 65535 bytes is not big enough for some mirror logs when debugging is turned <code class="literal">off</code>. When a statement containing <code class="literal">TEXT</code> larger than 65535 bytes is sent to MySQL, the data sent is truncated to fit into the 65535 boundary. Consequently, this creates issues when the <code class="literal">metadata_json</code> object is decoded, and the decode fails because the string is not terminated properly. As a result, Red Hat Quay returns a 500 error.
						</p><p class="simpara">
							There is currently no workaround for this issue, and it will be addressed in a future version of Red Hat Quay. For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-4305">PROJQUAY-4305</a>.
						</p></li><li class="listitem">
							There is a known issue when using the <code class="literal">--sign-by-sigstore-private-key</code> flag with some versions of Podman v4.y.z or greater. When the flag is used, the following error is returned: <code class="literal">Error: writing signatures: writing sigstore attachments is disabled by configuration</code>. To use this flag with Podman v4, your version must be v4.2.1; versions prior to 4.2.1 return the aforementioned error. There is currently no workaround for this issue, and it will be addressed in a future version of Podman.
						</li><li class="listitem"><p class="simpara">
							Currently, when pushing images with the Cosign private key <code class="literal">sigstore</code> with Podman 4, the following error is returned: <code class="literal">Error: received unexpected HTTP status: 500 Internal Server Error</code>. This is a known issue and will be fixed in a future version of Podman.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-4588">PROJQUAY-4588</a>.
						</p></li><li class="listitem">
							There is a known issue when using the <code class="literal">FEATURE_SUPERUSERS_FULL_ACCESS</code> configuration field with the Red Hat Quay UI v2. When this field is set, all superuser actions on tenant content should be audited. Currently, when a superuser deletes an existing organization that is owned by a normal user, there is no way to audit that operation. This will be fixed in a future version of Red Hat Quay.
						</li><li class="listitem">
							There is a known issue when using the <code class="literal">FEATURE_SUPERUSERS_FULL_ACCESS</code> configuration field with the Red Hat Quay UI v2. When setting this field to <code class="literal">true</code> in your config.yaml file, Red Hat Quay superusers can view organizations created by normal users, but cannot see the image repository. As a temporary workaround, superusers can view those repositories by navigating to them from the <span class="strong strong"><strong>Organizations</strong></span> page. This will be fixed in a future version of Red Hat Quay.
						</li><li class="listitem">
							When setting the <code class="literal">FEATURE_SUPERUSERS_FULL_ACCESS</code> configuration field to <code class="literal">true</code>, superusers do not have permission to create a new image repository under a normal user’s organization. This is a known issue and will be fixed in a future version of Red Hat Quay.
						</li><li class="listitem">
							When running Red Hat Quay in the old UI, timed-out sessions would require that a superuser input their password again in the pop-up window. With the new UI, superusers are returned to the main page and required to input their username and password credentials. This is a known issue and will be fixed in a future version of the new UI.
						</li><li class="listitem">
							When <code class="literal">FEATURE_RESTRICTED_USERS</code> is set to <code class="literal">true</code>, superusers are unable to create new organizations. This is a known issue and will be fixed in a future version of Red Hat Quay.
						</li><li class="listitem">
							If <code class="literal">FEATURE_RESTRICTED_USERS</code> or <code class="literal">LDAP_RESTRICTED_USER_FILTER</code> are set with a user, for example, <code class="literal">user1</code>, and the same user is also a superuser, they will not be able to create new organizations. This is a known issue. The superuser configuration field should take precedence over the restricted user configuration, however this is also an invalid configuration. Red Hat Quay administrators should not set the same user as both a restricted user and a superuser. This will be fixed in a future version of Red Hat Quay so that the superuser configuration field takes precedence over the restricted user field.
						</li><li class="listitem"><p class="simpara">
							After selecting <span class="strong strong"><strong>Enable Storage Replication</strong></span> in the Red Hat Quay configuration editor and reconfiguring your Red Hat Quay deployment, the new <code class="literal">Quay</code> and <code class="literal">Mirror</code> pods fail to start. This error occurs because the <code class="literal">Quay</code> and <code class="literal">Mirror</code> pods rely on the <code class="literal">QUAY_DISTRIBUTED_STORAGE_PREFERENCE</code> environment variable, which is now unsupported in Red Hat Quay 3.8.
						</p><p class="simpara">
							As a temporary workaround, you must update the <code class="literal">QuayRegistry</code> <code class="literal">config.yaml</code> file manually to include the <code class="literal">QUAY_DISTRIBUTED_STORAGE_PREFERENCE</code> environment variable, for example:
						</p><pre class="programlisting language-yaml"> spec:
  components:
    - kind: clair
      managed: true
    - kind: postgres
      managed: true
    - kind: objectstorage
      managed: false
    - kind: redis
      managed: true
    - kind: horizontalpodautoscaler
      managed: true
    - kind: route
      managed: true
    - kind: mirror
      managed: true
      overrides:
        env:
          - name: QUAY_DISTRIBUTED_STORAGE_PREFERENCE
            value: local_us
    - kind: monitoring
      managed: false
    - kind: tls
      managed: true
    - kind: quay
      managed: true
      overrides:
        env:
          - name: QUAY_DISTRIBUTED_STORAGE_PREFERENCE
            value: local_us
    - kind: clairpostgres
      managed: true</pre><p class="simpara">
							This is a known issue and will be fixed in a future version of Red Hat Quay.
						</p></li><li class="listitem"><p class="simpara">
							When configuring Red Hat Quay AWS S3 Cloudfront, a new parameter, <code class="literal">s3_region</code> is required. Currently, the Red Hat Quay config editor does not include this field. As a temporary workaround, you must manually insert the <code class="literal">s3_region</code> parameter in your <code class="literal">config.yaml</code> file, for example:
						</p><pre class="programlisting language-yaml">DISTRIBUTED_STORAGE_CONFIG:
    default:
      - CloudFrontedS3Storage
      - cloudfront_distribution_domain: &lt;domain_name&gt;
        cloudfront_distribution_org_overrides: {}
        cloudfront_key_id: &lt;cloudfront_key_id
        cloudfront_privatekey_filename: default_cloudfront_signing_key.pem
        host: s3.us-east-2.amazonaws.com
        s3_access_key: ***
        s3_bucket: ***
        s3_secret_key: ***
        storage_path: /cloudfronts3/quayregistry
        s3_region: us-east-2</pre></li></ul></div></section><section class="section" id="ipv6-limitations-38"><div class="titlepage"><div><div><h4 class="title">1.3.2. IPv6 and dual-stack limitations and known issues:</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Currently, attempting to configure your Red Hat Quay deployment with the common Azure Blob Storage configuration will not work on IPv6 single stack environments. Because the endpoint of Azure Blob Storage does not support IPv6, there is no workaround in place for this issue.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-4433">PROJQUAY-4433</a>.
						</p></li><li class="listitem"><p class="simpara">
							Currently, attempting to configure your Red Hat Quay deployment with Amazon S3 CloudFront will not work on IPv6 single stack environments. Because the endpoint of Amazon S3 CloudFront does not support IPv6, there is no workaround in place for this issue.
						</p><p class="simpara">
							For more information, see <a class="link" href="https://issues.redhat.com/browse/PROJQUAY-4470">PROJQUAY-4470</a>.
						</p></li><li class="listitem">
							Currently, OpenShift Data Foundations (ODF) is unsupported when Red Hat Quay is deployed on IPv6 single stack environments. As a result, ODF cannot be used in IPv6 environments. This limitation is scheduled to be fixed in a future version of OpenShift Data Foundations.
						</li><li class="listitem">
							Currently, dual-stack (IPv4 and IPv6) support does not work on Red Hat Quay OpenShift Container Platform deployments. When Red Hat Quay 3.8 is deployed on OpenShift Container Platform with dual-stack support enabled, the Quay route generated by the Red Hat Quay Operator only generates an IPv4 address, and not an IPv6 address. As a result, clients with an IPv6 address cannot access the Red Hat Quay application on OpenShift Container Platform. This limitation will be lifted upon the release of OpenShift Container Platform 4.12.
						</li><li class="listitem">
							Currently, Github and <a class="link" href="api.github.com">api.github.com</a> do not support IPv6. When Red Hat Quay is deployed on OpenShift Container Platform with IPv6 enabled, the config editor cannot be configured to use Github authentication.
						</li><li class="listitem">
							There is a known issue when <code class="literal">FEATURE_LISTEN_IP_VERSION</code> is set to <code class="literal">IPv6</code>, and you have selected <span class="strong strong"><strong>Red Hat Quay handles TLS</strong></span> in the configuration editor and uploaded self-signed certificates. If these conditions have been met, and you update any one configuration in the configuration editor (for example, adding a new superuser), when reconfiguring Red Hat Quay again, the mirror pod crashes and returns the following error: <code class="literal">Init:CrashLoopBackOff</code>. If <span class="strong strong"><strong>Red Hat Quay handles TLS</strong></span> is selected in your deployment, you must set <code class="literal">FEATURE_LISTEN_IP_VERSION</code> to <code class="literal">IPv4</code>. This will be fixed in a future version of Red Hat Quay.
						</li></ul></div></section></section><section class="section" id="bug-fixes-38"><div class="titlepage"><div><div><h3 class="title">1.4. Red Hat Quay bug fixes</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://issues.redhat.com/browse/PROJQUAY-4431">PROJQUAY-4431</a>. Proxy cache failed to validate Azure Container Registry (ACR).
					</li></ul></div></section><section class="section" id="quay-feature-tracker"><div class="titlepage"><div><div><h3 class="title">1.5. Red Hat Quay feature tracker</h3></div></div></div><p>
				New features have been added to Red Hat Quay, some of which are currently in Technology Preview. Technology Preview features are experimental features and are not intended for production use.
			</p><p>
				Some features available in previous releases have been deprecated or removed. Deprecated functionality is still included in Red Hat Quay, but is planned for removal in a future release and is not recommended for new deployments. For the most recent list of deprecated and removed functionality in Red Hat Quay, refer to Table 1.1. Additional details for more fine-grained functionality that has been deprecated and removed are listed after the table.
			</p><div class="table" id="idm45763778854352"><p class="title"><strong>Table 3. Technology Preview tracker</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 58%; " class="col_1"/><col style="width: 14%; " class="col_2"/><col style="width: 14%; " class="col_3"/><col style="width: 14%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45763778781584" scope="col">Feature</th><th align="left" valign="top" id="idm45763778777072" scope="col">Quay 3.8</th><th align="left" valign="top" id="idm45763778755936" scope="col">Quay 3.7</th><th align="left" valign="top" id="idm45763778746848" scope="col">Quay 3.6</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="#docker-v1-support">Docker v1 support</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								Deprecated
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								General Availability
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#reference-miscellaneous-v2-ui">FEATURE_UI_V2</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								Technology Preview
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/manage_red_hat_quay/index#proc_manage-ipv6-dual-stack">FEATURE_LISTEN_IP_VERSION</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/manage_red_hat_quay/index#ldap-super-users-enabling">LDAP_SUPERUSER_FILTER</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/manage_red_hat_quay/index#ldap-restricted-users-enabling">LDAP_RESTRICTED_USER_FILTER</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#configuring-superusers-full-access">FEATURE_SUPERUSERS_FULL_ACCESS</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#configuring-global-readonly-super-users">GLOBAL_READONLY_SUPER_USERS</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#configuring-feature-restricted-users">FEATURE_RESTRICTED_USERS</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.8/html-single/configure_red_hat_quay/index#configuring-restricted-users-whitelist">RESTRICTED_USERS_WHITELIST</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								-
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com//documentation/en-us/red_hat_quay/3.7/html-single/use_red_hat_quay#red-hat-quay-quota-management-and-enforcement">Quota management and enforcement</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/use_red_hat_quay#red-hat-quay-builders-enhancement">Red Hat Quay build enhancements</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/use_red_hat_quay#quay-as-cache-proxy">Red Hat Quay as proxy cache for upstream registries</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								Technology Preview
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/deploy_red_hat_quay_on_openshift_with_the_quay_operator/index">Geo-replication - Red Hat Quay Operator</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/manage_red_hat_quay#unmanaged_clair_configuration">Advanced Clair configuration</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								Support for Microsoft Azure Government (MAG)
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								-
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/configure_red_hat_quay/index#config-fields-helm-oci">FEATURE_HELM_OCI_SUPPORT</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								Deprecated
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								Deprecated
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								Deprecated
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/configure_red_hat_quay/index#config-ui-database">MySQL and MariaDB database support</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								Deprecated
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								Deprecated
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								Deprecated
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/use_red_hat_quay/index#oci-intro">Open Container Initiative (OCI) Media types</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								General Availability
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								General Availability
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45763778781584">
							<p>
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_quay/3.7/html-single/manage_red_hat_quay#clair_crda_configuration">Java scanning with Clair</a>
							</p>
							</td><td align="left" valign="top" headers="idm45763778777072">
							<p>
								Technology Preview
							</p>
							</td><td align="left" valign="top" headers="idm45763778755936">
							<p>
								Technology Preview
							</p>
							</td><td align="left" valign="top" headers="idm45763778746848">
							<p>
								Technology Preview
							</p>
							</td></tr></tbody></table></div></div><section class="section" id="deprecated-features"><div class="titlepage"><div><div><h4 class="title">1.5.1. Deprecated features</h4></div></div></div><div class="itemizedlist" id="docker-v1-support"><ul class="itemizedlist" type="disc"><li class="listitem">
							Support for Docker v1 is now deprecated and will be removed in a future release of Red Hat Quay. Users must now opt-in to enable Docker v1 support. Users should migrate any stored images in Docker v1 format to the OCI image format to avoid potential loss of data.
						</li></ul></div></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm45763753309712"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2022 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>